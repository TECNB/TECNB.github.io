<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Compose 学习 | TEC</title><meta name="author" content="TEC"><meta name="copyright" content="TEC"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Compose 学习布局组件Jetpack Compose 中的布局是通过组合函数和组件来构建的，而不是使用传统的 XML 布局文件。Compose 提供了一系列用于构建用户界面的组件和布局函数。以下是一些常见的 Jetpack Compose 布局相关的内容： ColumnColumn 是 Jetpack Compose 中用于垂直排列子元素的布局组件。它允许你按照从上到下的顺序垂直排列各个子元">
<meta property="og:type" content="article">
<meta property="og:title" content="Compose 学习">
<meta property="og:url" content="https://tecnb.github.io/posts/d84ff597.html">
<meta property="og:site_name" content="TEC">
<meta property="og:description" content="Compose 学习布局组件Jetpack Compose 中的布局是通过组合函数和组件来构建的，而不是使用传统的 XML 布局文件。Compose 提供了一系列用于构建用户界面的组件和布局函数。以下是一些常见的 Jetpack Compose 布局相关的内容： ColumnColumn 是 Jetpack Compose 中用于垂直排列子元素的布局组件。它允许你按照从上到下的顺序垂直排列各个子元">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/TECNB/picgodemo@main/img/compose-cover.jpg">
<meta property="article:published_time" content="2023-12-18T16:00:00.000Z">
<meta property="article:modified_time" content="2023-12-18T16:00:00.000Z">
<meta property="article:author" content="TEC">
<meta property="article:tag" content="TEC">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/TECNB/picgodemo@main/img/compose-cover.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://tecnb.github.io/posts/d84ff597"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="baidu-site-verification" content="code-EeDq654IWe"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Compose 学习',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-12-19 00:00:00'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="/css/custom.css"  media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/iconfont/iconfont.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/TECNB/picgodemo@main/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">31</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background: default_top_img"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">TEC</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Compose 学习</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-12-18T16:00:00.000Z" title="发表于 2023-12-19 00:00:00">2023-12-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-12-18T16:00:00.000Z" title="更新于 2023-12-19 00:00:00">2023-12-19</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">13.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>53分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Compose 学习"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Compose-学习"><a href="#Compose-学习" class="headerlink" title="Compose 学习"></a>Compose 学习</h1><h2 id="布局组件"><a href="#布局组件" class="headerlink" title="布局组件"></a>布局组件</h2><p>Jetpack Compose 中的布局是通过组合函数和组件来构建的，而不是使用传统的 XML 布局文件。Compose 提供了一系列用于构建用户界面的组件和布局函数。以下是一些常见的 Jetpack Compose 布局相关的内容：</p>
<h3 id="Column"><a href="#Column" class="headerlink" title="Column"></a>Column</h3><p><code>Column</code> 是 Jetpack Compose 中用于垂直排列子元素的布局组件。它允许你按照从上到下的顺序垂直排列各个子元素。以下是一些关于 <code>Column</code> 的详细信息和使用示例：</p>
<p><strong>创建 Column：</strong></p>
<p>你可以通过简单地在 <code>Column</code> 中放置子元素来创建垂直布局。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Column &#123;</span><br><span class="line">    <span class="comment">// 子元素 1</span></span><br><span class="line">    <span class="comment">// 子元素 2</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>使用 Modifier 定制 Column：</strong></p>
<p>你可以使用 <code>Modifier</code> 对 <code>Column</code> 进行定制，例如设置大小、填充等。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Column(</span><br><span class="line">    modifier = Modifier</span><br><span class="line">        .fillMaxSize()</span><br><span class="line">        .padding(<span class="number">16.</span>dp)</span><br><span class="line">) &#123;</span><br><span class="line">    <span class="comment">// 子元素</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>子元素的定位和对齐：</strong></p>
<p>可以使用 <code>verticalArrangement</code> 和 <code>horizontalAlignment</code> 参数来调整子元素在 <code>Column</code> 中的垂直和水平排列方式。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Column(</span><br><span class="line">    verticalArrangement = Arrangement.Center,</span><br><span class="line">    horizontalAlignment = Alignment.CenterHorizontally</span><br><span class="line">) &#123;</span><br><span class="line">    <span class="comment">// 子元素</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>设置子元素之间的间距：</strong></p>
<p>你可以使用 <code>Modifier.padding</code> 为 <code>Column</code> 中的子元素设置间距。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Column(</span><br><span class="line">    modifier = Modifier.padding(<span class="number">8.</span>dp)</span><br><span class="line">) &#123;</span><br><span class="line">    <span class="comment">// 子元素 1</span></span><br><span class="line">    <span class="comment">// 子元素 2</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>使用 weight 分配空间：</strong></p>
<p>你可以使用 <code>weight</code> 参数来为子元素分配相对空间，实现灵活的布局。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Column &#123;</span><br><span class="line">    Box(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .height(<span class="number">100.</span>dp)</span><br><span class="line">            .fillMaxWidth()</span><br><span class="line">            .background(Color.Blue)</span><br><span class="line">            .weight(<span class="number">1f</span>) <span class="comment">// 占据剩余空间的一半</span></span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// 子元素 1</span></span><br><span class="line">    &#125;</span><br><span class="line">    Box(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .height(<span class="number">100.</span>dp)</span><br><span class="line">            .fillMaxWidth()</span><br><span class="line">            .background(Color.Red)</span><br><span class="line">            .weight(<span class="number">2f</span>) <span class="comment">// 占据剩余空间的两倍</span></span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// 子元素 2</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Row"><a href="#Row" class="headerlink" title="Row"></a>Row</h3><p> <code>Row</code> 是基本的水平布局组件。它们允许您按水平顺序排列其子组件。</p>
<p>基本使用：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Row &#123;</span><br><span class="line">    <span class="comment">// Row 中的每个子元素</span></span><br><span class="line">    Text(<span class="string">&quot;Element 1&quot;</span>)</span><br><span class="line">    Text(<span class="string">&quot;Element 2&quot;</span>)</span><br><span class="line">    Text(<span class="string">&quot;Element 3&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个简单的示例中，<code>Row</code> 包含了三个 <code>Text</code> 组件，它们会水平排列在一行中。</p>
<p>使用 Modifier 调整布局：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Row(</span><br><span class="line">    modifier = Modifier</span><br><span class="line">        .fillMaxWidth()</span><br><span class="line">        .padding(<span class="number">16.</span>dp)</span><br><span class="line">) &#123;</span><br><span class="line">    <span class="comment">// Row 中的每个子元素</span></span><br><span class="line">    Text(<span class="string">&quot;Element 1&quot;</span>)</span><br><span class="line">    Text(<span class="string">&quot;Element 2&quot;</span>)</span><br><span class="line">    Text(<span class="string">&quot;Element 3&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过使用 <code>Modifier</code>，你可以调整 <code>Row</code> 的外观和行为。在这个例子中，<code>Modifier.fillMaxWidth()</code> 使得 <code>Row</code> 的宽度充满父容器的宽度，而 <code>Modifier.padding(16.dp)</code> 添加了内边距。</p>
<p>对齐和垂直对齐：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Row(</span><br><span class="line">    modifier = Modifier.fillMaxWidth(),</span><br><span class="line">    horizontalArrangement = Arrangement.SpaceBetween,</span><br><span class="line">    verticalAlignment = Alignment.CenterVertically</span><br><span class="line">) &#123;</span><br><span class="line">    <span class="comment">// Row 中的每个子元素</span></span><br><span class="line">    Text(<span class="string">&quot;Element 1&quot;</span>)</span><br><span class="line">    Text(<span class="string">&quot;Element 2&quot;</span>)</span><br><span class="line">    Text(<span class="string">&quot;Element 3&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过使用 <code>horizontalArrangement</code> 和 <code>verticalAlignment</code> 参数，你可以控制子元素在水平和垂直方向上的排列方式。在这个例子中，<code>Arrangement.SpaceBetween</code> 使得子元素在水平方向上平均分布，并且 <code>Alignment.CenterVertically</code> 使得它们在垂直方向上居中对齐。</p>
<p>使用 Spacer 创建间隔：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Row &#123;</span><br><span class="line">    Text(<span class="string">&quot;Element 1&quot;</span>)</span><br><span class="line">    Spacer(modifier = Modifier.width(<span class="number">16.</span>dp))</span><br><span class="line">    Text(<span class="string">&quot;Element 2&quot;</span>)</span><br><span class="line">    Spacer(modifier = Modifier.width(<span class="number">16.</span>dp))</span><br><span class="line">    Text(<span class="string">&quot;Element 3&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>Spacer</code> 可以用来创建子元素之间的间隔。在这个例子中，每个 <code>Text</code> 元素之间都有一个宽度为 <code>16.dp</code> 的间隔。</p>
<p>使用 weight 分配空间：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Row &#123;</span><br><span class="line">    Box(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .height(<span class="number">50.</span>dp)</span><br><span class="line">            .fillMaxWidth()</span><br><span class="line">            .background(Color.Blue)</span><br><span class="line">            .weight(<span class="number">1f</span>) <span class="comment">// 占据剩余空间的一半</span></span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// 子元素 1</span></span><br><span class="line">    &#125;</span><br><span class="line">    Box(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .height(<span class="number">50.</span>dp)</span><br><span class="line">            .fillMaxWidth()</span><br><span class="line">            .background(Color.Red)</span><br><span class="line">            .weight(<span class="number">2f</span>) <span class="comment">// 占据剩余空间的两倍</span></span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// 子元素 2</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过使用 <code>weight</code> 参数，你可以为 <code>Row</code> 中的子元素分配相对空间，实现灵活的布局。</p>
<p>总体来说，<code>Row</code> 是 Jetpack Compose 中用于水平排列子元素的常用布局组件，它提供了丰富的参数和选项，使得在水平方向上创建灵活的界面布局变得简单而直观。</p>
<h3 id="Box"><a href="#Box" class="headerlink" title="Box"></a>Box</h3><p><code>Box</code> 是 Jetpack Compose 中用于创建容器的组件，它可以包含其他组件，并允许你对这些组件进行定位、叠加和对齐。以下是一些关于 <code>Box</code> 的详细信息和使用示例：</p>
<p>基本使用：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">BasicBoxExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Box(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .fillMaxSize()</span><br><span class="line">            .background(MaterialTheme.colorScheme.primary)</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// Box 中的内容</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个基本的示例中，<code>Box</code> 组件充满整个父容器的大小，并设置了背景颜色为 <code>MaterialTheme.colorScheme.primary</code>。</p>
<p>包含其他组件：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">BoxWithContentExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Box(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .fillMaxSize()</span><br><span class="line">            .background(MaterialTheme.colorScheme.primary)</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// Box 中包含其他组件</span></span><br><span class="line">        Text(</span><br><span class="line">            text = <span class="string">&quot;Hello, Box!&quot;</span>,</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .size(<span class="number">200.</span>dp)</span><br><span class="line">                .background(Color.White)</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，<code>Box</code> 中包含了一个 <code>Text</code> 组件，并设置了 <code>size</code> 和 <code>background</code> 属性。</p>
<p>对齐和定位：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">BoxAlignmentExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Box(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .fillMaxSize()</span><br><span class="line">            .background(MaterialTheme.colorScheme.primary)</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// 对齐和定位子元素</span></span><br><span class="line">        Box(</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .size(<span class="number">100.</span>dp)</span><br><span class="line">                .background(Color.White)</span><br><span class="line">                .offset(<span class="number">50.</span>dp, <span class="number">30.</span>dp)</span><br><span class="line">        ) &#123;</span><br><span class="line">            <span class="comment">// 子元素</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，<code>Box</code> 包含一个子 <code>Box</code>，并使用 <code>offset</code> 属性对其进行定位。</p>
<p>叠加多个组件：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">OverlayExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Box(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .fillMaxSize()</span><br><span class="line">            .background(MaterialTheme.colorScheme.primary)</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// 叠加多个组件</span></span><br><span class="line">        Text(</span><br><span class="line">            text = <span class="string">&quot;Text 1&quot;</span>,</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .size(<span class="number">200.</span>dp)</span><br><span class="line">                .background(Color.White)</span><br><span class="line">        )</span><br><span class="line">        Text(</span><br><span class="line">            text = <span class="string">&quot;Text 2&quot;</span>,</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .size(<span class="number">150.</span>dp)</span><br><span class="line">                .background(Color.Red)</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，<code>Box</code> 中叠加了两个 <code>Text</code> 组件，它们分别有不同的背景颜色和大小。</p>
<p><code>Box</code> 是一个非常灵活的容器，可以用于创建各种布局结构，包括对齐、定位和叠加多个组件。通过使用不同的修饰符和嵌套不同的组件，你可以轻松地实现各种复杂的界面布局。</p>
<h3 id="ConstraintLayout"><a href="#ConstraintLayout" class="headerlink" title="ConstraintLayout"></a>ConstraintLayout</h3><p><code>ConstraintLayout</code> 提供了更灵活的布局，允许您通过设置约束条件来确定子组件的位置。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ConstraintLayout &#123;</span><br><span class="line">    <span class="comment">// 子组件和约束条件</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Surface"><a href="#Surface" class="headerlink" title="Surface"></a>Surface</h3><p>在 Jetpack Compose 中，<code>Surface</code> 是一个用于绘制内容的基本容器。它可以用作背景，也可以包含其他组件，以形成更复杂的用户界面。以下是一些关于 <code>Surface</code> 的详细信息和使用示例：</p>
<p>基本使用：</p>
<p>主要还是在内部只要一个元素的时候使用，这样就可以不用像 Card 一样需要再加上 Column 来添加背景颜色</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Surface(</span><br><span class="line">    shape = RoundedCornerShape(<span class="number">50.</span>dp),</span><br><span class="line">    color = colorResource(id = R.color.danDanZi), <span class="comment">// 设置圆角</span></span><br><span class="line">) &#123;</span><br><span class="line">    Text(</span><br><span class="line">        text = <span class="string">&quot;学习&quot;</span>,</span><br><span class="line">        color = colorResource(id = R.color.zi),</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .padding(horizontal = <span class="number">10.</span>dp)</span><br><span class="line">            .padding(vertical = <span class="number">4.</span>dp)</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，<code>Surface</code> 用作一个背景，填充整个可用空间，并设置了填充和颜色属性。<code>Text</code> 组件位于 <code>Surface</code> 中，形成了一个简单的界面。</p>
<p>Surface 嵌套使用：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Surface(</span><br><span class="line">    modifier = Modifier</span><br><span class="line">        .fillMaxSize()</span><br><span class="line">        .padding(<span class="number">16.</span>dp),</span><br><span class="line">    color = Color.Blue</span><br><span class="line">) &#123;</span><br><span class="line">    Surface(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .fillMaxWidth()</span><br><span class="line">            .padding(<span class="number">16.</span>dp),</span><br><span class="line">        color = Color.Green</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// 内部 Surface 中的内容</span></span><br><span class="line">        Text(<span class="string">&quot;Nested Surface Content&quot;</span>, color = Color.White)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>Surface</code> 组件可以嵌套使用，形成更为复杂的界面层次结构。在这个例子中，外部 <code>Surface</code> 设置为蓝色，内部 <code>Surface</code> 设置为绿色，并包含一个文本内容。</p>
<p>使用 Material 风格的 Surface：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Surface(</span><br><span class="line">    modifier = Modifier</span><br><span class="line">        .fillMaxSize()</span><br><span class="line">        .padding(<span class="number">16.</span>dp),</span><br><span class="line">    color = MaterialTheme.colorScheme.primary</span><br><span class="line">) &#123;</span><br><span class="line">    <span class="comment">// Material 风格的 Surface 中的内容</span></span><br><span class="line">    Text(<span class="string">&quot;Material Surface Content&quot;</span>, color = Color.White)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当你在应用中使用 Material Design 风格时，可以直接使用 <code>MaterialTheme.colorScheme</code> 中定义的颜色。</p>
<p>添加边框和形状：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Surface(</span><br><span class="line">    modifier = Modifier</span><br><span class="line">        .fillMaxSize()</span><br><span class="line">        .padding(<span class="number">16.</span>dp),</span><br><span class="line">    color = Color.Blue,</span><br><span class="line">    shape = RoundedCornerShape(<span class="number">8.</span>dp),</span><br><span class="line">    border = BorderStroke(<span class="number">2.</span>dp, Color.Gray)</span><br><span class="line">) &#123;</span><br><span class="line">    <span class="comment">// Surface 中的内容</span></span><br><span class="line">    Text(<span class="string">&quot;Surface with Border and Shape&quot;</span>, color = Color.White)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过设置 <code>shape</code> 属性，可以为 <code>Surface</code> 指定不同的形状，例如圆角。通过设置 <code>border</code> 属性，可以为 <code>Surface</code> 添加边框。</p>
<p>自定义绘制内容：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Surface(</span><br><span class="line">    modifier = Modifier</span><br><span class="line">        .fillMaxSize()</span><br><span class="line">        .padding(<span class="number">16.</span>dp),</span><br><span class="line">    color = Color.Blue,</span><br><span class="line">    shape = CircleShape</span><br><span class="line">) &#123;</span><br><span class="line">    <span class="comment">// 自定义绘制的内容</span></span><br><span class="line">    DrawCircle(color = Color.Yellow)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>你还可以使用 <code>Draw</code> 函数来在 <code>Surface</code> 中自定义绘制内容。在这个例子中，通过 <code>DrawCircle</code> 函数绘制了一个黄色的圆形。</p>
<p>总体来说，<code>Surface</code> 是 Jetpack Compose 中用于绘制内容和创建容器的基础组件之一。它提供了许多属性，允许你设置背景颜色、形状、边框等，以实现各种界面样式。</p>
<h3 id="Spacer"><a href="#Spacer" class="headerlink" title="Spacer"></a>Spacer</h3><p> <code>Spacer</code> 是一个用于添加空白间隔的组件，可以在布局中调整组件之间的距离。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Spacer(modifier = Modifier.height(<span class="number">16.</span>dp))</span><br></pre></td></tr></table></figure>

<h3 id="LazyColumn"><a href="#LazyColumn" class="headerlink" title="LazyColumn"></a>LazyColumn</h3><p><code>LazyColumn</code> 是 Jetpack Compose 中用于显示垂直滚动列表的组件。与传统的 <code>RecyclerView</code> 不同，<code>LazyColumn</code> 是一种懒加载的方式，仅在需要时才会加载和绘制可见的项目，这有助于提高性能。以下是一些关于 <code>LazyColumn</code> 的详细信息和使用示例：</p>
<p>基本使用：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">LazyColumn &#123;</span><br><span class="line">    items(<span class="number">100</span>) &#123; index -&gt;</span><br><span class="line">        <span class="comment">// 列表中的每个项目</span></span><br><span class="line">        Text(<span class="string">&quot;Item <span class="variable">$index</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个简单的示例中，<code>LazyColumn</code> 包含了一个包含 100 个项目的列表。<code>items</code> 函数用于定义列表的项目，它接受一个项目总数和一个 lambda 表达式，用于定义每个项目的内容。</p>
<p>懒加载：</p>
<p><code>LazyColumn</code> 仅在需要时才会加载和绘制可见的项目。这意味着当你滚动列表时，只有当前可见的项目才会被创建和渲染，这有助于提高性能，特别是当列表中有大量项目时。</p>
<p>项目的交互性：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">LazyColumn &#123;</span><br><span class="line">    items(<span class="number">10</span>) &#123; index -&gt;</span><br><span class="line">        <span class="comment">// 列表中的每个项目</span></span><br><span class="line">        Row(</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .fillMaxWidth()</span><br><span class="line">                .padding(<span class="number">16.</span>dp)</span><br><span class="line">                .clickable &#123;</span><br><span class="line">                    <span class="comment">// 处理项目的点击事件</span></span><br><span class="line">                    <span class="comment">// 可以进行页面导航等操作</span></span><br><span class="line">                    <span class="comment">// 例如：navController.navigate(&quot;detail/$index&quot;)</span></span><br><span class="line">                &#125;</span><br><span class="line">        ) &#123;</span><br><span class="line">            Text(<span class="string">&quot;Item <span class="variable">$index</span>&quot;</span>, fontWeight = FontWeight.Bold)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，每个项目被包装在一个 <code>Row</code> 中，并添加了 <code>clickable</code> 修饰符，以便处理项目的点击事件。你可以在 <code>clickable</code> lambda 中执行任何你想要的操作，例如页面导航。</p>
<p>使用不同类型的项目：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">data</span> <span class="keyword">class</span> <span class="title class_">ListItem</span>(<span class="keyword">val</span> title: String, <span class="keyword">val</span> subtitle: String)</span><br><span class="line"></span><br><span class="line">LazyColumn &#123;</span><br><span class="line">    items(</span><br><span class="line">        listOf(</span><br><span class="line">            ListItem(<span class="string">&quot;Item 1&quot;</span>, <span class="string">&quot;Subtitle 1&quot;</span>),</span><br><span class="line">            ListItem(<span class="string">&quot;Item 2&quot;</span>, <span class="string">&quot;Subtitle 2&quot;</span>),</span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line">        )</span><br><span class="line">    ) &#123; item -&gt;</span><br><span class="line">        <span class="comment">// 使用不同类型的项目</span></span><br><span class="line">        Column(</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .fillMaxWidth()</span><br><span class="line">                .padding(<span class="number">16.</span>dp)</span><br><span class="line">        ) &#123;</span><br><span class="line">            Text(text = item.title, fontWeight = FontWeight.Bold)</span><br><span class="line">            Text(text = item.subtitle, color = Color.Gray)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，每个项目是一个包含标题和子标题的数据类 <code>ListItem</code>。<code>items</code> 函数接受一个包含不同类型项目的列表，并根据每个项目的类型来定义不同的界面。</p>
<p>分隔线：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">LazyColumn &#123;</span><br><span class="line">    items(<span class="number">10</span>) &#123; index -&gt;</span><br><span class="line">        <span class="comment">// 列表中的每个项目</span></span><br><span class="line">        Text(<span class="string">&quot;Item <span class="variable">$index</span>&quot;</span>)</span><br><span class="line">        Divider(color = Color.Gray, thickness = <span class="number">1.</span>dp)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过在每个项目之后添加 <code>Divider</code> 组件，可以在列表中添加分隔线。</p>
<p><code>LazyColumn</code> 是构建垂直滚动列表的常用组件，特别适用于大量数据的情况，因为它采用懒加载的方式，只加载当前可见的项目，从而提高性能。</p>
<h3 id="ScrollableColumn"><a href="#ScrollableColumn" class="headerlink" title="ScrollableColumn"></a>ScrollableColumn</h3><p>允许在超过屏幕空间的情况下滚动显示内容。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ScrollableColumn &#123;</span><br><span class="line">    <span class="comment">// 可滚动的垂直列</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ScrollableRow"><a href="#ScrollableRow" class="headerlink" title="ScrollableRow"></a>ScrollableRow</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ScrollableRow &#123;</span><br><span class="line">    // 可滚动的水平行</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Scaffold"><a href="#Scaffold" class="headerlink" title="Scaffold"></a>Scaffold</h3><p><code>Scaffold</code> 是 Jetpack Compose 中用于创建应用程序屏幕结构的组件。它提供了一个标准的应用程序结构，包括应用栏（<code>TopAppBar</code>）、底部导航栏（<code>BottomAppBar</code>）以及主要内容区域。以下是一些关于 <code>Scaffold</code> 的详细信息和使用示例：</p>
<p>基本使用：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">BasicScaffoldExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Scaffold(</span><br><span class="line">        topBar = &#123;</span><br><span class="line">            <span class="comment">// 顶部应用栏</span></span><br><span class="line">            TopAppBar(</span><br><span class="line">                title = &#123; Text(text = <span class="string">&quot;My App&quot;</span>) &#125;,</span><br><span class="line">                navigationIcon = &#123;</span><br><span class="line">                    IconButton(onClick = &#123; <span class="comment">/* Handle navigation icon click */</span> &#125;) &#123;</span><br><span class="line">                        Icon(Icons.Default.Menu, contentDescription = <span class="literal">null</span>)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                actions = &#123;</span><br><span class="line">                    <span class="comment">// 顶部应用栏的操作按钮</span></span><br><span class="line">                    IconButton(onClick = &#123; <span class="comment">/* Handle action click */</span> &#125;) &#123;</span><br><span class="line">                        Icon(Icons.Default.Favorite, contentDescription = <span class="literal">null</span>)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            )</span><br><span class="line">        &#125;,</span><br><span class="line">        content = &#123;</span><br><span class="line">            <span class="comment">// 主要内容区域</span></span><br><span class="line">            Text(text = <span class="string">&quot;Hello, Compose!&quot;</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        bottomBar = &#123;</span><br><span class="line">            <span class="comment">// 底部导航栏</span></span><br><span class="line">            BottomAppBar(</span><br><span class="line">                content = &#123;</span><br><span class="line">                    <span class="comment">// 底部导航栏的内容</span></span><br><span class="line">                    IconButton(onClick = &#123; <span class="comment">/* Handle bottom bar action click */</span> &#125;) &#123;</span><br><span class="line">                        Icon(Icons.Default.Home, contentDescription = <span class="literal">null</span>)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                backgroundColor = MaterialTheme.colorScheme.primary</span><br><span class="line">            )</span><br><span class="line">        &#125;,</span><br><span class="line">        floatingActionButton = &#123;</span><br><span class="line">            <span class="comment">// 浮动操作按钮</span></span><br><span class="line">            FloatingActionButton(</span><br><span class="line">                onClick = &#123; <span class="comment">/* Handle FAB click */</span> &#125;,</span><br><span class="line">                contentColor = MaterialTheme.colorScheme.primary</span><br><span class="line">            ) &#123;</span><br><span class="line">                Icon(Icons.Default.Add, contentDescription = <span class="literal">null</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        isFloatingActionButtonDocked = <span class="literal">true</span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个基本的示例中，<code>Scaffold</code> 包含了一个顶部应用栏、主要内容区域、底部导航栏和一个浮动操作按钮。你可以通过在相应的参数中设置不同的组件和操作来自定义 <code>Scaffold</code>。</p>
<p>自定义主题：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">CustomThemedScaffold</span><span class="params">()</span></span> &#123;</span><br><span class="line">    MaterialTheme(</span><br><span class="line">        colorScheme = ColorScheme(</span><br><span class="line">            primary = Color.Green,</span><br><span class="line">            secondary = Color.Yellow,</span><br><span class="line">            background = Color.Gray,</span><br><span class="line">            surface = Color.DarkGray,</span><br><span class="line">            onPrimary = Color.Black,</span><br><span class="line">            onSecondary = Color.Black,</span><br><span class="line">            onBackground = Color.White,</span><br><span class="line">            onSurface = Color.White</span><br><span class="line">        )</span><br><span class="line">    ) &#123;</span><br><span class="line">        Scaffold(</span><br><span class="line">            topBar = &#123;</span><br><span class="line">                TopAppBar(</span><br><span class="line">                    title = &#123; Text(text = <span class="string">&quot;Custom Theme&quot;</span>) &#125;,</span><br><span class="line">                    backgroundColor = MaterialTheme.colorScheme.primary</span><br><span class="line">                )</span><br><span class="line">            &#125;,</span><br><span class="line">            content = &#123;</span><br><span class="line">                Text(text = <span class="string">&quot;Hello, Compose!&quot;</span>, color = MaterialTheme.colorScheme.onBackground)</span><br><span class="line">            &#125;,</span><br><span class="line">            bottomBar = &#123;</span><br><span class="line">                BottomAppBar(</span><br><span class="line">                    content = &#123;</span><br><span class="line">                        IconButton(onClick = &#123; <span class="comment">/* Handle bottom bar action click */</span> &#125;) &#123;</span><br><span class="line">                            Icon(Icons.Default.Home, contentDescription = <span class="literal">null</span>)</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    backgroundColor = MaterialTheme.colorScheme.primary</span><br><span class="line">                )</span><br><span class="line">            &#125;,</span><br><span class="line">            floatingActionButton = &#123;</span><br><span class="line">                FloatingActionButton(</span><br><span class="line">                    onClick = &#123; <span class="comment">/* Handle FAB click */</span> &#125;,</span><br><span class="line">                    contentColor = MaterialTheme.colorScheme.primary</span><br><span class="line">                ) &#123;</span><br><span class="line">                    Icon(Icons.Default.Add, contentDescription = <span class="literal">null</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            isFloatingActionButtonDocked = <span class="literal">true</span></span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，通过在 <code>MaterialTheme</code> 中设置自定义的颜色方案，可以自定义应用程序的主题。<code>Scaffold</code> 会根据主题中的颜色来渲染应用栏、底部导航栏和浮动操作按钮。</p>
<p><code>Scaffold</code> 提供了一个简便的方式来组织应用程序的基本结构，使得你可以专注于开发主要内容。你可以通过设置不同的参数和组件来满足应用程序的特定需求。</p>
<h3 id="ModalNavigationDrawer"><a href="#ModalNavigationDrawer" class="headerlink" title="ModalNavigationDrawer"></a>ModalNavigationDrawer</h3><p>在 Jetpack Compose 中，<code>ModalDrawer</code> 是一个用于实现模态导航抽屉的组件。模态导航抽屉通常用于在屏幕的一侧显示应用程序的导航菜单。以下是关于 <code>ModalDrawer</code> 的一些详细信息和基本使用示例：</p>
<p>基本使用：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OptIn(ExperimentalComposeUiApi::class)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">ModalDrawerExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> drawerState <span class="keyword">by</span> rememberDrawerState(DrawerValue.Closed)</span><br><span class="line">    <span class="keyword">var</span> text <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="string">&quot;Text in main content&quot;</span>) &#125;</span><br><span class="line"></span><br><span class="line">    ModalDrawer(</span><br><span class="line">        drawerState = drawerState,</span><br><span class="line">        gesturesEnabled = drawerState == DrawerValue.Open,</span><br><span class="line">        drawerContent = &#123;</span><br><span class="line">            <span class="comment">// 抽屉内容</span></span><br><span class="line">            Column(</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .fillMaxSize()</span><br><span class="line">                    .padding(<span class="number">16.</span>dp)</span><br><span class="line">            ) &#123;</span><br><span class="line">                Text(<span class="string">&quot;Drawer Content&quot;</span>)</span><br><span class="line">                Spacer(modifier = Modifier.height(<span class="number">16.</span>dp))</span><br><span class="line">                Button(onClick = &#123;</span><br><span class="line">                    <span class="comment">// 关闭抽屉</span></span><br><span class="line">                    drawerState = DrawerValue.Closed</span><br><span class="line">                &#125;) &#123;</span><br><span class="line">                    Text(<span class="string">&quot;Close Drawer&quot;</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        content = &#123;</span><br><span class="line">            <span class="comment">// 主要内容</span></span><br><span class="line">            Column(</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .fillMaxSize()</span><br><span class="line">                    .padding(<span class="number">16.</span>dp)</span><br><span class="line">            ) &#123;</span><br><span class="line">                Text(text)</span><br><span class="line">                Spacer(modifier = Modifier.height(<span class="number">16.</span>dp))</span><br><span class="line">                Button(onClick = &#123;</span><br><span class="line">                    <span class="comment">// 打开抽屉</span></span><br><span class="line">                    drawerState = DrawerValue.Open</span><br><span class="line">                &#125;) &#123;</span><br><span class="line">                    Text(<span class="string">&quot;Open Drawer&quot;</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Preview(showBackground = true)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">ModalDrawerExamplePreview</span><span class="params">()</span></span> &#123;</span><br><span class="line">    ModalDrawerExample()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个基本的示例中，通过使用 <code>ModalDrawer</code>，在主要内容区域的一侧实现了一个模态抽屉。通过设置 <code>drawerState</code> 来控制抽屉的打开和关闭状态。抽屉的内容通过在 <code>drawerContent</code> 参数中提供的 <code>Column</code> 中定义。</p>
<p>自定义抽屉内容：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OptIn(ExperimentalMaterial3Api::class)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">CustomDrawerContent</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">    onDrawerClose: () -&gt; <span class="type">Unit</span></span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span> &#123;</span><br><span class="line">    Column(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .fillMaxSize()</span><br><span class="line">            .padding(<span class="number">16.</span>dp)</span><br><span class="line">    ) &#123;</span><br><span class="line">        Text(<span class="string">&quot;Custom Drawer Content&quot;</span>)</span><br><span class="line">        Spacer(modifier = Modifier.height(<span class="number">16.</span>dp))</span><br><span class="line">        Button(onClick = &#123;</span><br><span class="line">            <span class="comment">// 关闭抽屉</span></span><br><span class="line">            onDrawerClose()</span><br><span class="line">        &#125;) &#123;</span><br><span class="line">            Text(<span class="string">&quot;Close Drawer&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@OptIn(ExperimentalMaterial3Api::class)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">CustomDrawerExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> drawerState <span class="keyword">by</span> rememberDrawerState(DrawerValue.Closed)</span><br><span class="line">    <span class="keyword">var</span> text <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="string">&quot;Text in main content&quot;</span>) &#125;</span><br><span class="line"></span><br><span class="line">    ModalDrawer(</span><br><span class="line">        drawerState = drawerState,</span><br><span class="line">        gesturesEnabled = drawerState == DrawerValue.Open,</span><br><span class="line">        drawerContent = &#123;</span><br><span class="line">            <span class="comment">// 自定义抽屉内容</span></span><br><span class="line">            CustomDrawerContent(onDrawerClose = &#123;</span><br><span class="line">                drawerState = DrawerValue.Closed</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        content = &#123;</span><br><span class="line">            <span class="comment">// 主要内容</span></span><br><span class="line">            Column(</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .fillMaxSize()</span><br><span class="line">                    .padding(<span class="number">16.</span>dp)</span><br><span class="line">            ) &#123;</span><br><span class="line">                Text(text)</span><br><span class="line">                Spacer(modifier = Modifier.height(<span class="number">16.</span>dp))</span><br><span class="line">                Button(onClick = &#123;</span><br><span class="line">                    <span class="comment">// 打开抽屉</span></span><br><span class="line">                    drawerState = DrawerValue.Open</span><br><span class="line">                &#125;) &#123;</span><br><span class="line">                    Text(<span class="string">&quot;Open Drawer&quot;</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@OptIn(ExperimentalMaterial3Api::class)</span></span><br><span class="line"><span class="meta">@Preview(showBackground = true)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">CustomDrawerExamplePreview</span><span class="params">()</span></span> &#123;</span><br><span class="line">    CustomDrawerExample()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，通过定义一个自定义的抽屉内容 <code>CustomDrawerContent</code>，使抽屉的内容更具体地展示了自定义的 UI 元素。在 <code>drawerContent</code> 参数中传递 <code>CustomDrawerContent</code>，并在按钮的点击事件中关闭抽屉。</p>
<p><code>ModalDrawer</code> 提供了简便的方式来实现模态抽屉，它可以灵活地适应各种应用程序的需求。通过在 <code>drawerContent</code> 中使用 Compose 的布局和组件，你可以轻松定制抽屉的外观和功能。</p>
<h2 id="基础组件"><a href="#基础组件" class="headerlink" title="基础组件"></a>基础组件</h2><h3 id="Icon"><a href="#Icon" class="headerlink" title="Icon"></a>Icon</h3><p>使用 <code>painterResource</code> 来获取相关的资源，<code>contentDescription</code>是无障碍中对于 Icon 的描述</p>
<p>以下是一些基本的 <code>Icon</code> 使用示例：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Icon(imageVector = ImageVector.vectorResource(</span><br><span class="line">    id = R.drawable.ic_svg, contentDescription = <span class="string">&quot;矢量图资源&quot;</span>)</span><br><span class="line">  </span><br><span class="line">Icon(bitmap = ImageBitmap.imageResource(</span><br><span class="line">    id = R.drawable.ic_png), contentDescription = <span class="string">&quot;图片资源&quot;</span>)</span><br><span class="line">    </span><br><span class="line">Icon(painter = painterResource(</span><br><span class="line">    id = R.drawable.ic_both), contentDescription = <span class="string">&quot;任意类型资源&quot;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Image"><a href="#Image" class="headerlink" title="Image"></a>Image</h3><p>在 Jetpack Compose 中，<code>Image</code> 是用于显示图像的组件。它可以显示来自不同来源的图像，例如矢量图形、位图、网络图像等。以下是一些关于 <code>Image</code> 的详细信息和使用示例：</p>
<p>显示本地资源图像：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Image(</span><br><span class="line">    painter = painterResource(id = R.drawable.ic_launcher_foreground),</span><br><span class="line">    contentDescription = <span class="string">&quot;App Icon&quot;</span>,</span><br><span class="line">    modifier = Modifier.size(<span class="number">100.</span>dp)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>这个例子中，<code>painterResource</code> 函数用于从本地资源中加载图像，<code>contentDescription</code> 提供了对图像的文本描述，而 <code>modifier</code> 则用于设置图像的大小。</p>
<p>显示网络图像：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Image(</span><br><span class="line">    painter = rememberImagePainter(</span><br><span class="line">        <span class="keyword">data</span> = <span class="string">&quot;https://example.com/image.jpg&quot;</span>,</span><br><span class="line">        builder = &#123;</span><br><span class="line">            crossfade(<span class="literal">true</span>)</span><br><span class="line">            placeholder(R.drawable.placeholder)</span><br><span class="line">            error(R.drawable.error)</span><br><span class="line">        &#125;</span><br><span class="line">    ),</span><br><span class="line">    contentDescription = <span class="string">&quot;Network Image&quot;</span>,</span><br><span class="line">    modifier = Modifier.size(<span class="number">200.</span>dp)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>在这个例子中，<code>rememberImagePainter</code> 函数用于从网络加载图像。它支持一些额外的选项，如交叉淡入淡出效果、占位符和错误图像。这样的构建器提供了更多的控制权。</p>
<p>使用不同的 ContentScale：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Image(</span><br><span class="line">    painter = painterResource(id = R.drawable.image),</span><br><span class="line">    contentDescription = <span class="string">&quot;Scaled Image&quot;</span>,</span><br><span class="line">    contentScale = ContentScale.Crop,</span><br><span class="line">    modifier = Modifier.fillMaxWidth().height(<span class="number">200.</span>dp)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p><code>ContentScale</code> 参数用于指定图像的缩放方式。<code>ContentScale.Crop</code> 会裁剪图像以填充目标框，而 <code>ContentScale.FillBounds</code> 会将图像缩放以填充目标框，保持其宽高比。</p>
<p>使用不同的加载方式：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Image(</span><br><span class="line">    painter = rememberCoilPainter(request = <span class="string">&quot;https://example.com/image.jpg&quot;</span>),</span><br><span class="line">    contentDescription = <span class="string">&quot;Coil Image&quot;</span>,</span><br><span class="line">    modifier = Modifier.size(<span class="number">150.</span>dp)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>在这个例子中，<code>rememberCoilPainter</code> 函数用于从网络加载图像，它是 Coil 图片加载库的一部分。Jetpack Compose 与 Coil 集成良好，可以通过 <code>rememberCoilPainter</code> 等函数方便地加载网络图像。</p>
<p>总体而言，<code>Image</code> 是 Jetpack Compose 中用于显示图像的主要组件，它支持各种来源的图像，并提供了多种选项，以满足不同应用场景的需求。</p>
<h3 id="Card"><a href="#Card" class="headerlink" title="Card"></a>Card</h3><p>在 Jetpack Compose 中，<code>Card</code> 是用于创建卡片样式的组件。卡片通常用于将相关的内容组织在一起，并提供一种清晰的界面结构。以下是一些关于 <code>Card</code> 的详细信息和使用示例：</p>
<p>基本使用：</p>
<p>注意 card 和 suface 不同的是背景颜色设置在内置的元素，而 suface 需要设置在自己的 color 的属性里面，以及它们两个的布局逻辑也不太一样</p>
<p>注意下面的 elevation 踩坑了，设置之后没有任何的阴影出现，而且发现 elevation 的功能少，只能用黑色阴影，相反 .shadow 能够设置的内容就更多</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Card(</span><br><span class="line">    <span class="comment">// elevation = CardDefaults.cardElevation(defaultElevation = 5.dp), //注意 elevation 的写法，现在好了不用注意了，直接送走这位属性</span></span><br><span class="line">    modifier = Modifier</span><br><span class="line">        .padding(top = <span class="number">20.</span>dp)</span><br><span class="line">        .padding(horizontal = <span class="number">10.</span>dp)</span><br><span class="line">  			<span class="comment">//.clip(shape = MaterialTheme.shapes.large)</span></span><br><span class="line">  			.shadow(<span class="number">25.</span>dp,RoundedCornerShape(<span class="number">20.</span>dp))</span><br><span class="line">        .clip(shape = RoundedCornerShape(<span class="number">20.</span>dp))</span><br><span class="line">        .fillMaxWidth()</span><br><span class="line">) &#123;</span><br><span class="line">    Row(</span><br><span class="line">        horizontalArrangement = Arrangement.SpaceBetween,</span><br><span class="line">        verticalAlignment = Alignment.CenterVertically,</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .background(color = colorResource(id = R.color.danHui))</span><br><span class="line">            .padding(<span class="number">10.</span>dp)</span><br><span class="line">            .fillMaxWidth()</span><br><span class="line">    ) &#123;</span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这个例子中，<code>Card</code> 包裹了一个 <code>Text</code> 组件，通过设置 <code>modifier</code> 可以调整卡片的大小和边距，<code>elevation</code> 参数用于指定卡片的海拔高度，以添加阴影效果。<code>clip</code> 参数实现圆角效果。</p>
<p>卡片与图片：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">Card(</span><br><span class="line">    modifier = Modifier</span><br><span class="line">        .fillMaxWidth()</span><br><span class="line">        .padding(<span class="number">16.</span>dp),</span><br><span class="line">    elevation = <span class="number">8.</span>dp</span><br><span class="line">) &#123;</span><br><span class="line">    Box(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .height(<span class="number">200.</span>dp)</span><br><span class="line">            .fillMaxWidth()</span><br><span class="line">    ) &#123;</span><br><span class="line">        Image(</span><br><span class="line">            painter = painterResource(id = R.drawable.image),</span><br><span class="line">            contentDescription = <span class="string">&quot;Card Image&quot;</span>,</span><br><span class="line">            contentScale = ContentScale.Crop,</span><br><span class="line">            modifier = Modifier.fillMaxSize()</span><br><span class="line">        )</span><br><span class="line">        Text(</span><br><span class="line">            text = <span class="string">&quot;Image Title&quot;</span>,</span><br><span class="line">            color = Color.White,</span><br><span class="line">            fontSize = <span class="number">20.</span>sp,</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .padding(<span class="number">16.</span>dp)</span><br><span class="line">                .align(Alignment.BottomStart)</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，<code>Card</code> 包含一个带有图片的 <code>Box</code>，通过调整 <code>modifier</code> 设置图片的高度、填充整个宽度。通过在 <code>Box</code> 中添加 <code>Text</code>，可以在图片上叠加标题。</p>
<p>Card 嵌套使用：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Card(</span><br><span class="line">    modifier = Modifier</span><br><span class="line">        .fillMaxWidth()</span><br><span class="line">        .padding(<span class="number">16.</span>dp),</span><br><span class="line">    elevation = <span class="number">8.</span>dp</span><br><span class="line">) &#123;</span><br><span class="line">    Card(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .fillMaxWidth()</span><br><span class="line">            .padding(<span class="number">16.</span>dp),</span><br><span class="line">        elevation = <span class="number">4.</span>dp</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// 内部卡片的内容</span></span><br><span class="line">        Text(<span class="string">&quot;Nested Card Content&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>Card</code> 组件可以嵌套使用，这样你可以创建更为复杂的布局结构，例如卡片内部包含另一个卡片。</p>
<p>使用点击事件：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isCardExpanded <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">false</span>) &#125;</span><br><span class="line"></span><br><span class="line">Card(</span><br><span class="line">    modifier = Modifier</span><br><span class="line">        .fillMaxWidth()</span><br><span class="line">        .padding(<span class="number">16.</span>dp)</span><br><span class="line">        .clickable &#123; isCardExpanded = !isCardExpanded &#125;,</span><br><span class="line">    elevation = <span class="number">8.</span>dp</span><br><span class="line">) &#123;</span><br><span class="line">    <span class="comment">// 卡片内容</span></span><br><span class="line">    <span class="keyword">if</span> (isCardExpanded) &#123;</span><br><span class="line">        Text(<span class="string">&quot;Expanded Card Content&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        Text(<span class="string">&quot;Collapsed Card Content&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过在 <code>Card</code> 的 <code>modifier</code> 中添加 <code>clickable</code>，你可以为卡片添加点击事件。在上面的例子中，点击卡片时切换卡片内容的展开和折叠状态。</p>
<p>总的来说，<code>Card</code> 是 Jetpack Compose 中用于创建卡片样式的主要组件，它提供了许多选项，以满足不同应用场景下的需求，同时可以通过嵌套使用和添加点击事件等方式实现更为复杂的交互和布局。</p>
<h3 id="Text"><a href="#Text" class="headerlink" title="Text"></a>Text</h3><p><code>Text</code> 是 Jetpack Compose 中用于显示文本的组件。它允许你以声明式的方式定义和呈现文本内容。以下是一些关于 <code>Text</code> 的详细信息和使用示例：</p>
<p>基本使用：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Text(<span class="string">&quot;Hello, Compose!&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>在这个基本的示例中，<code>Text</code> 组件显示了一个简单的文本内容：”Hello, Compose!”。</p>
<p>设置文本样式：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Text(</span><br><span class="line">    <span class="string">&quot;Styled Text&quot;</span>,</span><br><span class="line">    fontSize = <span class="number">20.</span>sp,</span><br><span class="line">    fontWeight = FontWeight.Bold,</span><br><span class="line">    color = Color.Blue</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p><code>Text</code> 组件允许你设置多种文本样式，包括字体大小 (<code>fontSize</code>)、字体粗细 (<code>fontWeight</code>)、颜色 (<code>color</code>) 等。在这个例子中，文本的字体大小为 20sp，字体粗细为粗体，颜色为蓝色。</p>
<p>使用字符串模板：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> name = <span class="string">&quot;John&quot;</span></span><br><span class="line">Text(<span class="string">&quot;Hello, <span class="variable">$name</span>!&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>你可以使用字符串模板来在文本中插入变量。在这个例子中，变量 <code>name</code> 的值会被插入到文本中。</p>
<p>设置对齐方式：</p>
<p>当我们在 <code>Text</code> 中设置了 <code>fillMaxWidth()</code> 之后？，我们可以指定 <code>Text</code> 的对齐方式</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Text(</span><br><span class="line">    <span class="string">&quot;Centered Text&quot;</span>,</span><br><span class="line">    textAlign = TextAlign.Center</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>通过 <code>textAlign</code> 属性，你可以设置文本的对齐方式。在这个例子中，文本被居中对齐。</p>
<p>多行文本：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Text(</span><br><span class="line">    <span class="string">&quot;This is a long text that may span multiple lines. &quot;</span> +</span><br><span class="line">            <span class="string">&quot;It demonstrates how to use the Text component for displaying multiline text.&quot;</span>,</span><br><span class="line">    maxLines = <span class="number">3</span>,</span><br><span class="line">    overflow = TextOverflow.Ellipsis</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>如果文本内容很长，你可以使用 <code>maxLines</code> 属性限制显示的最大行数，并通过 <code>overflow</code> 属性设置溢出文本的处理方式。在这个例子中，文本最多显示 3 行，多余的文本用省略号表示。</p>
<p>使用 AnnotatedString 进行富文本：</p>
<p>也就是一行字的样式不同，我觉得还是手写两个 text 比较好</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> styledText = buildAnnotatedString &#123;</span><br><span class="line">    withStyle(style = SpanStyle(fontWeight = FontWeight.Bold, color = Color.Red)) &#123;</span><br><span class="line">        append(<span class="string">&quot;Bold and Red&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    append(<span class="string">&quot; Regular Text &quot;</span>)</span><br><span class="line">    withStyle(style = SpanStyle(textDecoration = TextDecoration.LineThrough)) &#123;</span><br><span class="line">        append(<span class="string">&quot;Strikethrough&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Text(text = styledText)</span><br></pre></td></tr></table></figure>

<p>通过使用 <code>AnnotatedString</code>，你可以实现富文本效果。在这个例子中，一部分文本被设置为粗体红色，一部分被设置为带有删除线的文本。</p>
<p>总体来说，<code>Text</code> 是 Jetpack Compose 中用于显示文本的核心组件。它提供了丰富的属性，使得你可以轻松地控制文本的样式、对齐方式等，同时支持富文本效果。</p>
<h3 id="FloatingActionButton"><a href="#FloatingActionButton" class="headerlink" title="FloatingActionButton"></a>FloatingActionButton</h3><p><code>FloatingActionButton</code> 是 Jetpack Compose 中用于创建浮动操作按钮的组件。浮动操作按钮通常用于显示应用中的主要操作，并且通常位于屏幕的底部右侧。以下是一些关于 <code>FloatingActionButton</code> 的详细信息和使用示例：</p>
<p>基本使用：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">BasicFABExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    FloatingActionButton(</span><br><span class="line">        onClick = &#123; <span class="comment">/* 处理点击事件 */</span> &#125;,</span><br><span class="line">        contentColor = MaterialTheme.colorScheme.primary</span><br><span class="line">    ) &#123;</span><br><span class="line">        Icon(imageVector = Add, contentDescription = <span class="literal">null</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个基本的示例中，<code>FloatingActionButton</code> 包含了一个点击事件的处理程序，并且包含了一个加号图标。</p>
<p>自定义颜色和形状：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">CustomFABExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    FloatingActionButton(</span><br><span class="line">        onClick = &#123; <span class="comment">/* 处理点击事件 */</span> &#125;,</span><br><span class="line">        contentColor = MaterialTheme.colorScheme.secondary,</span><br><span class="line">        backgroundColor = MaterialTheme.colorScheme.primary,</span><br><span class="line">        shape = MaterialTheme.shapes.medium</span><br><span class="line">    ) &#123;</span><br><span class="line">        Icon(imageVector = Add, contentDescription = <span class="literal">null</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过 <code>contentColor</code> 和 <code>backgroundColor</code> 属性，你可以自定义浮动操作按钮的前景和背景颜色。<code>shape</code> 属性用于定义按钮的形状。</p>
<p>在底部应用栏中使用：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">FABInBottomAppBarExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    BottomAppBar(</span><br><span class="line">        fabConfiguration = BottomAppBar.FabConfiguration(</span><br><span class="line">            position = FabPosition.End</span><br><span class="line">        )</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// 底部应用栏的内容</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    FloatingActionButton(</span><br><span class="line">        onClick = &#123; <span class="comment">/* 处理点击事件 */</span> &#125;,</span><br><span class="line">        contentColor = MaterialTheme.colorScheme.primary</span><br><span class="line">    ) &#123;</span><br><span class="line">        Icon(imageVector = Add, contentDescription = <span class="literal">null</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在底部应用栏中使用 <code>FloatingActionButton</code> 时，你可以通过 <code>fabConfiguration</code> 属性设置按钮的位置。在这个例子中，按钮位于底部应用栏的右侧。</p>
<p>使用动画效果：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">AnimatedFABExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> fabTransition = transitionDefinition&lt;<span class="built_in">Boolean</span>&gt; &#123;</span><br><span class="line">        state(<span class="literal">false</span>) &#123;</span><br><span class="line">            <span class="keyword">this</span>[translationY] = <span class="number">0.</span>dp</span><br><span class="line">        &#125;</span><br><span class="line">        state(<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">this</span>[translationY] = (-<span class="number">16</span>).dp</span><br><span class="line">        &#125;</span><br><span class="line">        transition &#123;</span><br><span class="line">            translationY using tween(<span class="number">300</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> fabState <span class="keyword">by</span> transitionAsState(fabTransition, targetState = <span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line">    Box &#123;</span><br><span class="line">        FloatingActionButton(</span><br><span class="line">            onClick = &#123; <span class="comment">/* 处理点击事件 */</span> &#125;,</span><br><span class="line">            contentColor = MaterialTheme.colorScheme.primary,</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .translationY(fabState[translationY])</span><br><span class="line">        ) &#123;</span><br><span class="line">            Icon(imageVector = Add, contentDescription = <span class="literal">null</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，通过使用 <code>transitionDefinition</code> 和动画效果，你可以在 <code>FloatingActionButton</code> 上应用一个简单的上下动画。</p>
<p><code>FloatingActionButton</code> 提供了很多自定义的选项，包括颜色、形状、位置等，使得你可以根据你的设计需求轻松定制。在实际应用中，根据设计规范和用户体验需求选择合适的样式和位置。</p>
<h3 id="Divider"><a href="#Divider" class="headerlink" title="Divider"></a>Divider</h3><p><code>Divider</code> 是 Jetpack Compose 中用于创建分隔线的组件。它通常用于在布局中分隔不同的部分或列表项。以下是一些关于 <code>Divider</code> 的详细信息和使用示例：</p>
<p>基本使用：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">BasicDividerExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Divider(</span><br><span class="line">        modifier = Modifier.fillMaxWidth()</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个基本的示例中，<code>Divider</code> 组件被用于创建一条横跨整个宽度的分隔线。</p>
<p>设置颜色和高度：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">CustomDividerExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Divider(</span><br><span class="line">        modifier = Modifier.fillMaxWidth(),</span><br><span class="line">        color = Color.Gray,</span><br><span class="line">        thickness = <span class="number">2.</span>dp</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>你可以通过 <code>color</code> 属性设置分隔线的颜色，通过 <code>thickness</code> 属性设置分隔线的厚度。</p>
<p>垂直分隔线：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> androidx.compose.foundation.layout.fillMaxHeight</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.Divider</span><br><span class="line"><span class="keyword">import</span> androidx.compose.runtime.Composable</span><br><span class="line"></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">VerticalDividerExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Divider(</span><br><span class="line">        modifier = Modifier.fillMaxHeight()</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果你需要垂直的分隔线，可以使用 <code>fillMaxHeight()</code> 修饰符。</p>
<p>自定义分隔线样式：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">CustomStyleDividerExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Divider(</span><br><span class="line">        modifier = Modifier.fillMaxWidth(),</span><br><span class="line">        color = MaterialTheme.colorScheme.secondary,</span><br><span class="line">        thickness = <span class="number">4.</span>dp,</span><br><span class="line">        startIndent = <span class="number">16.</span>dp,</span><br><span class="line">        endIndent = <span class="number">16.</span>dp</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过设置 <code>startIndent</code> 和 <code>endIndent</code> 属性，你可以指定分隔线的起始和结束缩进。</p>
<p>总体来说，<code>Divider</code> 是一个简单但功能强大的组件，用于在 Compose 中创建分隔线，提供了丰富的属性来满足不同场景下的分隔需求。</p>
<h3 id="CheckBox"><a href="#CheckBox" class="headerlink" title="CheckBox"></a>CheckBox</h3><p><code>CheckBox</code> 是 Jetpack Compose 中用于创建复选框的组件。复选框允许用户选择或取消选择一个或多个项目。以下是一些关于 <code>CheckBox</code> 的详细信息和使用示例：</p>
<p>基本使用：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">BasicCheckBoxExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> checked <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">false</span>) &#125;</span><br><span class="line"></span><br><span class="line">    Checkbox(</span><br><span class="line">        checked = checked,</span><br><span class="line">        onCheckedChange = &#123; isChecked -&gt;</span><br><span class="line">            checked = isChecked</span><br><span class="line">        &#125;,</span><br><span class="line">        modifier = Modifier.padding(<span class="number">16.</span>dp),</span><br><span class="line">        colors = CheckboxDefaults.colors(checkmarkColor = MaterialTheme.colorScheme.secondary)</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个基本的示例中，<code>Checkbox</code> 组件用于创建一个基本的复选框。通过 <code>checked</code> 属性和 <code>onCheckedChange</code> 回调，你可以控制复选框的状态。</p>
<p>使用样式和颜色：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">StyledCheckBoxExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Checkbox(</span><br><span class="line">        checked = <span class="literal">true</span>,</span><br><span class="line">        onCheckedChange = &#123; <span class="comment">/* Handle checked state */</span> &#125;,</span><br><span class="line">        modifier = Modifier.padding(<span class="number">16.</span>dp),</span><br><span class="line">        colors = CheckboxDefaults.colors(</span><br><span class="line">            checkedColor = MaterialTheme.colorScheme.secondary,</span><br><span class="line">            uncheckedColor = MaterialTheme.colorScheme.primary</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过使用 <code>colors</code> 属性，你可以自定义复选框的颜色，包括选中状态和未选中状态的颜色。</p>
<p>禁用状态：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">DisabledCheckBoxExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Checkbox(</span><br><span class="line">        checked = <span class="literal">false</span>,</span><br><span class="line">        onCheckedChange = &#123; <span class="comment">/* Handle checked state */</span> &#125;,</span><br><span class="line">        enabled = <span class="literal">false</span>,</span><br><span class="line">        modifier = Modifier.padding(<span class="number">16.</span>dp),</span><br><span class="line">        colors = CheckboxDefaults.colors(</span><br><span class="line">            checkedColor = MaterialTheme.colorScheme.secondary,</span><br><span class="line">            uncheckedColor = MaterialTheme.colorScheme.primary</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过设置 <code>enabled</code> 属性为 <code>false</code>，你可以禁用复选框，使其变为不可点击状态。</p>
<p>配合文本使用：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">CheckBoxWithTextExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> checked <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">false</span>) &#125;</span><br><span class="line"></span><br><span class="line">    Row(</span><br><span class="line">        modifier = Modifier.clickable &#123;</span><br><span class="line">            checked = !checked</span><br><span class="line">        &#125;</span><br><span class="line">    ) &#123;</span><br><span class="line">        Checkbox(</span><br><span class="line">            checked = checked,</span><br><span class="line">            onCheckedChange = &#123; isChecked -&gt;</span><br><span class="line">                checked = isChecked</span><br><span class="line">            &#125;,</span><br><span class="line">            modifier = Modifier.padding(<span class="number">16.</span>dp),</span><br><span class="line">            colors = CheckboxDefaults.colors(checkmarkColor = MaterialTheme.colorScheme.secondary)</span><br><span class="line">        )</span><br><span class="line">        Text(text = <span class="string">&quot;Agree to terms and conditions&quot;</span>, modifier = Modifier.padding(<span class="number">16.</span>dp))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，<code>Checkbox</code> 与 <code>Text</code> 组件一起使用，创建了一个带有文本标签的复选框。通过在外部容器上使用 <code>clickable</code> 修饰符，你可以使整个行可点击。</p>
<p>这些示例展示了 <code>Checkbox</code> 在 Jetpack Compose 中的基本用法和一些自定义选项。你可以根据具体的需求来配置颜色、样式以及与其他组件的结合使用。</p>
<h3 id="AnimatedVisibility"><a href="#AnimatedVisibility" class="headerlink" title="AnimatedVisibility"></a>AnimatedVisibility</h3><p>在 Jetpack Compose 中，使用动画效果可以为用户界面增添生动感和交互性。以下是一个简单的例子，演示如何使用动画效果来创建一个基本的淡入淡出效果：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">AnimatedExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> visible <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">true</span>) &#125;</span><br><span class="line"></span><br><span class="line">    Column(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .fillMaxSize()</span><br><span class="line">            .padding(<span class="number">16.</span>dp)</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// 切换按钮</span></span><br><span class="line">        Button(</span><br><span class="line">            onClick = &#123; visible = !visible &#125;,</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .fillMaxWidth()</span><br><span class="line">                .padding(<span class="number">8.</span>dp)</span><br><span class="line">        ) &#123;</span><br><span class="line">            Text(<span class="keyword">if</span> (visible) <span class="string">&quot;Hide&quot;</span> <span class="keyword">else</span> <span class="string">&quot;Show&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用动画效果的图标</span></span><br><span class="line">        AnimatedVisibility(visible = visible) &#123;</span><br><span class="line">            Icon(</span><br><span class="line">                painter = painterResource(id = R.drawable.ic_launcher_foreground),</span><br><span class="line">                contentDescription = <span class="literal">null</span>,</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .size(<span class="number">100.</span>dp)</span><br><span class="line">                    .padding(<span class="number">8.</span>dp)</span><br><span class="line">                    .graphicsLayer(</span><br><span class="line">                        alpha = <span class="keyword">if</span> (visible) <span class="number">1f</span> <span class="keyword">else</span> <span class="number">0f</span>, <span class="comment">// 透明度动画</span></span><br><span class="line">                        scaleX = <span class="keyword">if</span> (visible) <span class="number">1f</span> <span class="keyword">else</span> <span class="number">0.5f</span>, <span class="comment">// X轴缩放动画</span></span><br><span class="line">                        scaleY = <span class="keyword">if</span> (visible) <span class="number">1f</span> <span class="keyword">else</span> <span class="number">0.5f</span> <span class="comment">// Y轴缩放动画</span></span><br><span class="line">                    )</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用动画效果的文本</span></span><br><span class="line">        AnimatedVisibility(</span><br><span class="line">            visible = visible,</span><br><span class="line">            enter = fadeIn() + slideInVertically(),</span><br><span class="line">            exit = fadeOut() + slideOutVertically()</span><br><span class="line">        ) &#123;</span><br><span class="line">            Text(</span><br><span class="line">                text = <span class="string">&quot;Hello, Compose!&quot;</span>,</span><br><span class="line">                style = MaterialTheme.typography.h5,</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .padding(<span class="number">8.</span>dp)</span><br><span class="line">                    .background(Color.Gray, RoundedCornerShape(<span class="number">8.</span>dp))</span><br><span class="line">                    .padding(<span class="number">16.</span>dp)</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，通过 <code>AnimatedVisibility</code> 自定义了一个带有动画效果的可见性组件，并使用了一些基本的动画效果函数，如 <code>fadeIn()</code>、<code>fadeOut()</code>、<code>slideInVertically()</code>、<code>slideOutVertically()</code>、<code>expandIn()</code> 和 <code>shrinkOut()</code>。</p>
<p>这个例子包含了以下动画效果：</p>
<ul>
<li>图标的淡入淡出和缩放效果。</li>
<li>文本的淡入淡出、上下滑动和伸缩效果。</li>
</ul>
<p>你可以根据自己的需求使用不同的动画效果函数，也可以创建自定义的动画效果来实现更复杂的交互效果。Jetpack Compose 提供了丰富的动画支持，让你能够轻松地为应用添加生动和引人注目的用户界面。</p>
<h3 id="CircularProgressIndicator"><a href="#CircularProgressIndicator" class="headerlink" title="CircularProgressIndicator"></a>CircularProgressIndicator</h3><p><code>CircularProgressIndicator</code> 是 Jetpack Compose 中用于显示圆形进度指示器的组件。它通常用于表示某个任务正在进行中。以下是一些关于 <code>CircularProgressIndicator</code> 的详细信息和使用示例：</p>
<p>基本使用：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">BasicCircularProgressIndicator</span><span class="params">()</span></span> &#123;</span><br><span class="line">    CircularProgressIndicator(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .size(<span class="number">50.</span>dp)</span><br><span class="line">            .padding(<span class="number">16.</span>dp),</span><br><span class="line">        color = MaterialTheme.colorScheme.primary</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个基本的示例中，<code>CircularProgressIndicator</code> 显示一个默认样式的圆形进度指示器。通过设置 <code>modifier</code> 属性，你可以调整指示器的大小和位置，通过设置 <code>color</code> 属性，你可以自定义指示器的颜色。</p>
<p>指定进度值：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">DeterminateCircularProgressIndicator</span><span class="params">(progress: <span class="type">Float</span>)</span></span> &#123;</span><br><span class="line">    CircularProgressIndicator(</span><br><span class="line">        progress = progress,</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .size(<span class="number">50.</span>dp)</span><br><span class="line">            .padding(<span class="number">16.</span>dp),</span><br><span class="line">        color = MaterialTheme.colorScheme.primary</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果你希望显示特定进度的圆形进度指示器，可以使用 <code>progress</code> 属性。该属性接受一个介于 0 到 1 之间的浮点数，表示进度的百分比。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在 Composable 中使用</span></span><br><span class="line">DeterminanteCircularProgressIndicator(progress = <span class="number">0.5f</span>)</span><br></pre></td></tr></table></figure>



<p>不确定进度：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">IndeterminateCircularProgressIndicator</span><span class="params">()</span></span> &#123;</span><br><span class="line">    CircularProgressIndicator(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .size(<span class="number">50.</span>dp)</span><br><span class="line">            .padding(<span class="number">16.</span>dp),</span><br><span class="line">        color = MaterialTheme.colorScheme.primary,</span><br><span class="line">        isIndeterminate = <span class="literal">true</span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果你不知道任务的确切进度，可以将 <code>isIndeterminate</code> 属性设置为 <code>true</code>，以显示不确定进度的圆形进度指示器。这时，<code>progress</code> 属性将被忽略。</p>
<p>自定义样式：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">CustomCircularProgressIndicator</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Surface(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .fillMaxSize()</span><br><span class="line">            .background(Color.Gray),</span><br><span class="line">        contentColor = Color.White</span><br><span class="line">    ) &#123;</span><br><span class="line">        Column(</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .fillMaxSize()</span><br><span class="line">                .padding(<span class="number">16.</span>dp),</span><br><span class="line">            verticalArrangement = Arrangement.Center,</span><br><span class="line">            horizontalAlignment = Alignment.CenterHorizontally</span><br><span class="line">        ) &#123;</span><br><span class="line">            CircularProgressIndicator(</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .size(<span class="number">50.</span>dp)</span><br><span class="line">                    .padding(<span class="number">16.</span>dp),</span><br><span class="line">                color = MaterialTheme.colorScheme.secondary</span><br><span class="line">            )</span><br><span class="line">            CircularProgressIndicator(</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .size(<span class="number">50.</span>dp)</span><br><span class="line">                    .padding(<span class="number">16.</span>dp),</span><br><span class="line">                color = MaterialTheme.colorScheme.secondary,</span><br><span class="line">                progress = <span class="number">0.5f</span></span><br><span class="line">            )</span><br><span class="line">            CircularProgressIndicator(</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .size(<span class="number">50.</span>dp)</span><br><span class="line">                    .padding(<span class="number">16.</span>dp),</span><br><span class="line">                color = MaterialTheme.colorScheme.secondary,</span><br><span class="line">                isIndeterminate = <span class="literal">true</span></span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，通过设置不同的 <code>color</code>、<code>progress</code> 和 <code>isIndeterminate</code> 属性，展示了不同样式的圆形进度指示器。</p>
<p><code>CircularProgressIndicator</code> 是一个非常灵活的组件，可以根据需求进行定制。你可以调整大小、颜色、进度和样式，以满足设计和用户体验的要求。</p>
<h2 id="基础属性"><a href="#基础属性" class="headerlink" title="基础属性"></a>基础属性</h2><h3 id="Modifier"><a href="#Modifier" class="headerlink" title="Modifier"></a>Modifier</h3><p>在Jetpack Compose中，<code>Modifier</code> 是一种用于修改组件（如布局或绘制元素）行为或外观的强大工具。通过 <code>Modifier</code>，你可以指定诸如大小、颜色、填充、点击处理等属性，从而定制组件的外观和交互。</p>
<p>以下是一些常见的 <code>Modifier</code> 的使用示例：</p>
<ol>
<li><p><strong>设置大小：</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Modifier.size(<span class="number">50.</span>dp)</span><br></pre></td></tr></table></figure>

<p>这将组件的大小设置为 <code>50.dp</code>。</p>
</li>
<li><p><strong>设置边距：</strong></p>
<p>在 Compose 中，Margin 和 Padding 都用 Modifier.padding() 来设置。在 padding 和 margin 的区别最主要的就是在于背景色的设置。</p>
<p>边距需要注意，compose 并不存在 margin 属性 ，当只使用一个 padding 时，这个padding就是外边距，在background 后面的 padding 会作为内布局</p>
<p>并且一定要写在height和width前面不然会不起作用</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Modifier.padding(<span class="number">16.</span>dp)</span><br><span class="line">Modifier.padding(vertical = <span class="number">16.</span>dp)</span><br></pre></td></tr></table></figure>

<p>这将在组件周围添加 <code>16.dp</code> 的内边距以及竖直方向添加 <code>16.dp</code>。</p>
</li>
<li><p><strong>设置颜色：</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Modifier.background(colorResource(id = R.color.zi))</span><br></pre></td></tr></table></figure>

<p>这将为组件设置蓝色的背景。</p>
</li>
<li><p><strong>设置点击处理：</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Modifier.clickable &#123; <span class="comment">/* 处理点击事件的逻辑 */</span> &#125;</span><br></pre></td></tr></table></figure>

<p>这将使组件可点击，并在点击时执行指定的逻辑。</p>
</li>
<li><p><strong>设置居中对齐：</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Modifier.align(Alignment.Center)</span><br></pre></td></tr></table></figure>

<p>这将使组件在其父组件中居中对齐。</p>
</li>
<li><p><strong>设置边框：</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Modifier.border(<span class="number">1.</span>dp, Color.Gray)</span><br></pre></td></tr></table></figure>

<p>这将为组件添加一个 <code>1.dp</code> 宽度、灰色的边框。</p>
</li>
<li><p><strong>设置偏移：</strong></p>
<p>在 Jetpack Compose 中，<code>Offset</code> 是一个用于表示二维平面上的偏移量的数据类。它通常用于指定在屏幕上或在父组件内的位置。<code>Offset</code> 有两个属性，分别是 <code>x</code> 和 <code>y</code>，分别表示水平和垂直方向上的偏移。</p>
<p>以下是一个简单的示例，演示如何在 Compose 中使用 <code>Offset</code>：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">OffsetExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Box(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .size(<span class="number">100.</span>dp)</span><br><span class="line">            .background(MaterialTheme.colorScheme.primary)</span><br><span class="line">            .offset(<span class="number">50.</span>dp, <span class="number">30.</span>dp)</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// Box 中的内容</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，<code>Box</code> 组件的 <code>offset</code> 属性被用来指定这个 <code>Box</code> 相对于其正常位置的偏移量。在这里，<code>x</code> 设置为 <code>50.dp</code>，表示向右偏移 50 个设备独立像素（Density Independent Pixels，dp），而 <code>y</code> 设置为 <code>30.dp</code>，表示向下偏移 30 个 dp。</p>
<p>需要注意的是，在 Compose 中使用 <code>offset</code> 可以接受两个参数，分别是水平方向和垂直方向的偏移量。这使得在组合中轻松实现元素的相对位置调整成为可能。</p>
<p>如果你需要在不同的屏幕密度下使用像素而不是 dp，你可以使用 <code>with(LocalDensity.current)</code> 来获取当前的 <code>Density</code> 并进行转换：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">OffsetWithPixelExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> density = LocalDensity.current.density</span><br><span class="line">    <span class="keyword">val</span> offsetX = with(LocalDensity.current) &#123; <span class="number">50.</span>dp.toPx() / density &#125;</span><br><span class="line">    <span class="keyword">val</span> offsetY = with(LocalDensity.current) &#123; <span class="number">30.</span>dp.toPx() / density &#125;</span><br><span class="line"></span><br><span class="line">    Box(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .size(<span class="number">100.</span>dp)</span><br><span class="line">            .background(MaterialTheme.colorScheme.primary)</span><br><span class="line">            .offset(offsetX.dp, offsetY.dp)</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// Box 中的内容</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，<code>offsetX</code> 和 <code>offsetY</code> 表示在像素中的偏移量，而 <code>toPx()</code> 函数用于将 dp 转换为像素。在设置 <code>offset</code> 时，使用 <code>dp</code> 单位即可。</p>
</li>
<li><p><strong>设置占比：</strong></p>
<p><code>Modifier.weight</code> 是用于在Jetpack Compose中分配相对空间的功能。它主要用于 <code>Column</code> 或 <code>Row</code> 这样的布局组件中，允许你指定子元素在可用空间中的相对权重。这样，你可以创建动态的、响应式的布局，使其中一个子元素占据更多或更少的空间。</p>
<p>使用示例：</p>
<p>以下是一个简单的示例，演示如何在 <code>Column</code> 中使用 <code>Modifier.weight</code>：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Column &#123;</span><br><span class="line">    Box(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .height(<span class="number">100.</span>dp)</span><br><span class="line">            .fillMaxWidth()</span><br><span class="line">            .background(Color.Blue)</span><br><span class="line">            .weight(<span class="number">1f</span>) <span class="comment">// 子元素 1 占据剩余空间的一半</span></span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// 子元素 1</span></span><br><span class="line">    &#125;</span><br><span class="line">    Box(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .height(<span class="number">100.</span>dp)</span><br><span class="line">            .fillMaxWidth()</span><br><span class="line">            .background(Color.Red)</span><br><span class="line">            .weight(<span class="number">2f</span>) <span class="comment">// 子元素 2 占据剩余空间的两倍</span></span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// 子元素 2</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，<code>Column</code> 包含两个 <code>Box</code>，通过 <code>weight</code> 设置它们的相对权重。第一个 <code>Box</code> 的权重为1，第二个 <code>Box</code> 的权重为2，因此第二个 <code>Box</code> 将占据比第一个 <code>Box</code> 更多的空间。</p>
<p>适用场景：</p>
<ul>
<li><p><strong>动态布局：</strong> 在需要根据数据或屏幕尺寸动态调整子元素大小的情况下，使用 <code>Modifier.weight</code> 是很有用的。</p>
</li>
<li><p><strong>比例分配：</strong> 当你希望在父布局中以一定比例分配空间给子元素时，可以使用权重来定义这些比例。</p>
</li>
<li><p><strong>响应式设计：</strong> 在设计响应式用户界面时，<code>Modifier.weight</code> 可以帮助你实现不同屏幕尺寸下的灵活布局。</p>
</li>
</ul>
</li>
<li><p><strong>设置圆角：</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Modifier.clip(RoundedCornerShape(<span class="number">16.</span>dp))</span><br></pre></td></tr></table></figure>

<p>这将为组件添加一个 <code>16.dp</code> 的圆角。</p>
</li>
<li><p><strong>设置其他自定义属性：</strong></p>
</li>
</ol>
   <figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Modifier</span><br><span class="line">    .background(Color.Yellow)</span><br><span class="line">    .padding(<span class="number">8.</span>dp)</span><br><span class="line">    .size(<span class="number">100.</span>dp)</span><br></pre></td></tr></table></figure>

<p>   这个例子演示了如何通过链式调用多个 <code>Modifier</code> 方法来设置多个属性。</p>
<h3 id="LaunchedEffect"><a href="#LaunchedEffect" class="headerlink" title="LaunchedEffect"></a>LaunchedEffect</h3><p><code>LaunchedEffect</code> 是 Jetpack Compose 中用于启动协程并在协程完成时执行操作的效果（effect）。它通常用于执行一次性的异步任务，例如启动网络请求、执行动画等。以下是一些关于 <code>LaunchedEffect</code> 的详细信息和使用示例：</p>
<h3 id="基本使用："><a href="#基本使用：" class="headerlink" title="基本使用："></a>基本使用：</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OptIn(ExperimentalComposeUiApi::class)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">LaunchedEffectExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> isLoading <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">false</span>) &#125;</span><br><span class="line">    <span class="keyword">var</span> result <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="string">&quot;&quot;</span>) &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> context = LocalContext.current</span><br><span class="line"></span><br><span class="line">    Column(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .fillMaxSize()</span><br><span class="line">            .padding(<span class="number">16.</span>dp)</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// 输入框</span></span><br><span class="line">        OutlinedTextField(</span><br><span class="line">            value = result,</span><br><span class="line">            onValueChange = &#123;</span><br><span class="line">                result = it</span><br><span class="line">            &#125;,</span><br><span class="line">            label = &#123; Text(<span class="string">&quot;Type something...&quot;</span>) &#125;,</span><br><span class="line">            keyboardOptions = KeyboardOptions.Default.copy(</span><br><span class="line">                imeAction = ImeAction.Done</span><br><span class="line">            ),</span><br><span class="line">            keyboardActions = KeyboardActions(</span><br><span class="line">                onDone = &#123;</span><br><span class="line">                    <span class="comment">// 启动协程执行异步任务</span></span><br><span class="line">                    LaunchedEffect(<span class="built_in">Unit</span>) &#123;</span><br><span class="line">                        isLoading = <span class="literal">true</span></span><br><span class="line">                        delay(<span class="number">2000</span>) <span class="comment">// 模拟异步任务，比如网络请求</span></span><br><span class="line">                        result = <span class="string">&quot;Task completed&quot;</span></span><br><span class="line">                        isLoading = <span class="literal">false</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            ),</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .fillMaxWidth()</span><br><span class="line">                .padding(<span class="number">8.</span>dp)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 显示结果或加载指示器</span></span><br><span class="line">        <span class="keyword">if</span> (isLoading) &#123;</span><br><span class="line">            CircularProgressIndicator(</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .size(<span class="number">50.</span>dp)</span><br><span class="line">                    .padding(<span class="number">16.</span>dp),</span><br><span class="line">                color = MaterialTheme.colorScheme.primary</span><br><span class="line">            )</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            Spacer(modifier = Modifier.height(<span class="number">16.</span>dp))</span><br><span class="line">            Text(text = result)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，<code>LaunchedEffect</code> 用于在用户完成输入并点击键盘上的 “Done” 按钮时启动一个异步任务。在任务执行期间，显示一个加载指示器。一旦任务完成，显示任务结果。</p>
<p>使用 <code>LaunchedEffect</code> 处理生命周期事件：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OptIn(ExperimentalComposeUiApi::class)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">LaunchedEffectWithLifecycleExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> result <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="string">&quot;&quot;</span>) &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> context = LocalContext.current</span><br><span class="line">    <span class="keyword">val</span> lifecycleOwner = LocalLifecycleOwner.current</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 使用 LaunchedEffect 处理生命周期事件</span></span><br><span class="line">    LaunchedEffect(lifecycleOwner.lifecycle) &#123;</span><br><span class="line">        <span class="keyword">val</span> observer = LifecycleEventObserver &#123; _, event -&gt;</span><br><span class="line">            <span class="keyword">if</span> (event == Lifecycle.Event.ON_STOP) &#123;</span><br><span class="line">                <span class="comment">// 在 Activity 停止时执行的异步任务</span></span><br><span class="line">                result = <span class="string">&quot;Activity stopped&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        lifecycleOwner.lifecycle.addObserver(observer)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 在 LaunchedEffect 结束时移除生命周期观察者</span></span><br><span class="line">        onDispose &#123;</span><br><span class="line">            lifecycleOwner.lifecycle.removeObserver(observer)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Column(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .fillMaxSize()</span><br><span class="line">            .padding(<span class="number">16.</span>dp)</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// 显示结果</span></span><br><span class="line">        Spacer(modifier = Modifier.height(<span class="number">16.</span>dp))</span><br><span class="line">        Text(text = result)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，<code>LaunchedEffect</code> 用于处理 <code>Lifecycle.Event.ON_STOP</code> 事件，当 <code>Activity</code> 停止时，</p>
<h2 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h2><h3 id="Composable"><a href="#Composable" class="headerlink" title="@Composable"></a>@Composable</h3><p>在Jetpack Compose中，<code>@Composable</code>是一个注解，用于标记函数或方法，表示这是一个可组合的函数。可组合函数是Compose框架中的基本构建块，用于定义UI界面的一部分。使用<code>@Composable</code>注解的函数被称为可组合函数，因为它们可以组合在一起，形成复杂的用户界面。</p>
<p>使用<code>@Composable</code>注解有几个关键的作用：</p>
<ol>
<li><p><strong>声明可组合函数：</strong> 通过使用<code>@Composable</code>注解，您告诉Compose框架这个函数是一个可组合的函数，它用于构建UI组件。Compose框架会根据需要调用这些可组合函数来构建UI。</p>
 <figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">MyComposableFunction</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// UI 构建逻辑</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>自动更新UI：</strong> 当Compose框架检测到可组合函数内部状态的变化时，它会重新调用相应的可组合函数以更新UI。这使得在Compose中构建动态UI变得简单，因为您只需要管理数据的变化，而不必手动操作UI元素。</p>
</li>
<li><p><strong>组合性：</strong> 可组合函数可以嵌套和组合在一起，形成更复杂的UI层次结构。这种组合性是Compose框架的一个重要特征，允许您构建具有高度可复用性和模块化的UI组件。</p>
 <figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">MyScreen</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 组合多个可组合函数</span></span><br><span class="line">    MyHeader()</span><br><span class="line">    MyContent()</span><br><span class="line">    MyFooter()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>总的来说，<code>@Composable</code>注解是Compose框架的核心概念之一，它标志着函数是用于构建UI的可组合函数，并且具有自动更新UI和高度组合性的特性。</p>
<h3 id="DrawableRes"><a href="#DrawableRes" class="headerlink" title="@DrawableRes"></a>@DrawableRes</h3><p>在Jetpack Compose中，<code>@DrawableRes</code> 注解通常用于标记一个参数应该接受一个 Drawable 资源的引用。Drawable 资源是 Android 中用于表示可绘制图形的资源，例如图像、形状等。在 Jetpack Compose 中，你可以使用 <code>@DrawableRes</code> 注解来明确指定某个参数应该接受一个指向 Drawable 资源的引用。</p>
<p>例如，考虑以下示例：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">MyImage</span><span class="params">(<span class="meta">@DrawableRes</span> imageResId: <span class="type">Int</span>)</span></span> &#123;</span><br><span class="line">    Image(</span><br><span class="line">        painter = painterResource(id = imageResId),</span><br><span class="line">        contentDescription = <span class="literal">null</span> <span class="comment">// 为了简化示例，这里省略了contentDescription</span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在上面的例子中，<code>@DrawableRes</code> 注解用于说明 <code>imageResId</code> 参数应该是一个 Drawable 资源的引用。这有助于提高代码的可读性，并让开发者知道这个参数期望接收一个 Drawable 资源的 ID。</p>
<p>需要注意的是，<code>@DrawableRes</code> 注解本身并没有在 Compose 中引入新的功能，它只是一个标记注解，用于帮助开发者正确使用 Drawable 资源。当你使用这个注解时，编译器会在编译时进行一些检查，以确保你传递给标记有 <code>@DrawableRes</code> 注解的参数的值是一个有效的 Drawable 资源。</p>
<h2 id="Kotlin基础"><a href="#Kotlin基础" class="headerlink" title="Kotlin基础"></a>Kotlin基础</h2><h3 id="记忆变量"><a href="#记忆变量" class="headerlink" title="记忆变量"></a>记忆变量</h3><p>在Jetpack Compose中，<code>by mutableStateOf</code> 和 <code>remember &#123; mutableStateOf() &#125;</code> 都用于创建可变状态，主要是因为</p>
<ol>
<li><p><strong><code>by mutableStateOf</code>：</strong></p>
<p>通常在<code>ViewModel</code>类下面进行使用</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> count <span class="keyword">by</span> mutableStateOf(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<p>这是一种直接在组件内部声明和使用可变状态的方式。这种声明方式通常用于短生命周期的组件，例如对话框或临时组件。当 <code>count</code> 的值发生变化时，相关的组件会重新绘制以反映新的状态。</p>
</li>
<li><p><strong><code>remember &#123; (mutableStateOf)() &#125;</code>：</strong></p>
<p>通常在<code>Screen</code>类下面进行使用</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// val 代表这个属性只可读，所以直接使用 = 连接</span></span><br><span class="line"><span class="keyword">val</span> password = remember &#123; mutableStateOf(<span class="string">&quot;123456&quot;</span>) &#125;</span><br><span class="line"><span class="comment">// var 代表这个属性是可变的，通过 by 关键字将属性的委托给 remember &#123; mutableStateOf(false) &#125; 表达式返回的可变状态。这样，变量的值可以随着时间的推移而改变</span></span><br><span class="line"><span class="keyword">var</span> passwordVisibility <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">false</span>) &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>rememberUpdatedState&#123; mutableStateOf() &#125;</code></strong></p>
<p>通常用于确保在不同组合之间保持引用相等性</p>
<p>在下面的代码中，你直接使用 remember 的话是不会和 viewModel.ifShowTarget 的值同步的</p>
<p>通过使用普通变量 ifShowTarget 的方式的对比，发现是因为 viewModel 都是同一个对象，所以能够实现这样同时变化的效果，使用 remember 无法实现</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用 viewModel 方式</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">targetMenuList</span><span class="params">(viewModel: <span class="type">TimerViewModel</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> visibility <span class="keyword">by</span> rememberUpdatedState(newValue = viewModel.ifShowTarget)</span><br><span class="line">    <span class="comment">//val visibility by remember&#123; mutableStateOf(viewModel.ifShowTarget) &#125;</span></span><br><span class="line"></span><br><span class="line">    AnimatedVisibility(</span><br><span class="line">        visible = visibility,</span><br><span class="line">        enter = fadeIn(),</span><br><span class="line">        exit = fadeOut()</span><br><span class="line">    ) &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用普通变量 ifShowTarget 的方式</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">targetMenuList</span><span class="params">(ifShowTarget: <span class="type">Boolean</span>)</span></span> &#123;</span><br><span class="line">    <span class="comment">// val visibility by rememberUpdatedState(newValue = viewModel.ifShowTarget)</span></span><br><span class="line">    <span class="keyword">val</span> visibility <span class="keyword">by</span> rememberUpdatedState(newValue = ifShowTarget)</span><br><span class="line"></span><br><span class="line">    AnimatedVisibility(</span><br><span class="line">        visible = visibility,</span><br><span class="line">        enter = fadeIn(),</span><br><span class="line">        exit = fadeOut()</span><br><span class="line">    ) &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
<li></li>
</ol>
<p>综合而言，<code>by mutableStateOf</code> 用于直接在组件内部声明和使用可变状态，而 <code>remember &#123; mutableStateOf() &#125;</code> 则在组件生命周期内保持状态，并通过 <code>remember</code> 函数来确保初始化只在组件首次创建时进行。选择使用哪种方式取决于组件的生命周期和状态管理需求。</p>
<h3 id="ViewModel"><a href="#ViewModel" class="headerlink" title="ViewModel"></a>ViewModel</h3><p>ViewModel 是一种在 Android 架构组件中用于存储和管理与用户界面相关的数据的类。它的目的是存储和管理与界面相关的持久化数据，以便在配置更改（如屏幕旋转）等情况下，数据仍然可以保持不变。在 Jetpack Compose 中，ViewModel 仍然是一个有用的概念，但需要结合 <code>viewModel()</code> 和 <code>viewModelProvider</code> 使用。</p>
<p>以下是有关 ViewModel 的一些关键概念：</p>
<p>创建 ViewModel：</p>
<p>在 Jetpack Compose 中，通常使用 <code>viewModel()</code> 函数来获取或创建 ViewModel。该函数位于 <code>androidx.lifecycle.viewmodel.compose</code> 包中。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyViewModel</span> : <span class="type">ViewModel</span>() &#123;</span><br><span class="line">    <span class="comment">// 在此处定义与界面相关的数据</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">MyComposable</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> viewModel: MyViewModel = viewModel()</span><br><span class="line">    <span class="comment">// 使用 viewModel 中的数据</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过 ViewModelProvider 创建 ViewModel：</p>
<p>在某些情况下，可能需要使用 <code>ViewModelProvider</code> 来手动创建 ViewModel，特别是在 Compose 中使用 Jetpack Navigation 时。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> viewModel: MyViewModel = viewModelProvider()</span><br></pre></td></tr></table></figure>

<p>使用 ViewModel 存储数据：</p>
<p>ViewModel 可以用于存储需要在配置更改时保留的数据，例如网络请求的结果、用户输入等。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyViewModel</span> : <span class="type">ViewModel</span>() &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> _data = mutableStateOf(<span class="string">&quot;Initial Value&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> <span class="keyword">data</span>: State&lt;String&gt; <span class="keyword">get</span>() = _data</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">updateData</span><span class="params">(newData: <span class="type">String</span>)</span></span> &#123;</span><br><span class="line">        _data.value = newData</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">MyComposable</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> viewModel: MyViewModel = viewModel()</span><br><span class="line">    <span class="keyword">val</span> <span class="keyword">data</span>: State&lt;String&gt; = viewModel.<span class="keyword">data</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 使用 data 中的值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>观察 LiveData（可选）：</p>
<p>在传统的 Android 架构组件中，ViewModel 通常与 LiveData 结合使用。在 Compose 中，可以使用 <code>observeAsState()</code> 函数来观察 LiveData。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyViewModel</span> : <span class="type">ViewModel</span>() &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> _data = MutableLiveData(<span class="string">&quot;Initial Value&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> <span class="keyword">data</span>: LiveData&lt;String&gt; <span class="keyword">get</span>() = _data</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">updateData</span><span class="params">(newData: <span class="type">String</span>)</span></span> &#123;</span><br><span class="line">        _data.value = newData</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">MyComposable</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> viewModel: MyViewModel = viewModel()</span><br><span class="line">    <span class="keyword">val</span> <span class="keyword">data</span>: State&lt;String&gt; = viewModel.<span class="keyword">data</span>.observeAsState(<span class="string">&quot;Initial Value&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 使用 data 中的值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ViewModel 的使用有助于将数据管理与 UI 层分离，确保数据在配置更改等情况下得以保留。Jetpack Compose 中的 ViewModel 与传统 Android 架构组件中的用法相似，但需要使用相应的 Compose 函数。</p>
<h2 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h2><p>Jetpack Compose是一种用于构建Android用户界面的现代工具包。在创建Jetpack Compose项目时，一个良好的项目结构可以使代码组织更清晰、易于维护。以下是一个常见的Jetpack Compose项目结构的示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">app</span><br><span class="line">|-- src</span><br><span class="line">|   |-- main</span><br><span class="line">|       |-- java/com/example/mycomposeapp</span><br><span class="line">|           |-- di  // 依赖注入相关</span><br><span class="line">|               |-- AppContainer.kt</span><br><span class="line">|               |-- AppModule.kt</span><br><span class="line">|           |-- model  // 数据模型</span><br><span class="line">|               |-- User.kt</span><br><span class="line">|           |-- ui</span><br><span class="line">|               |-- theme  // 主题定义</span><br><span class="line">|                   |-- Color.kt</span><br><span class="line">|                   |-- Typography.kt</span><br><span class="line">|               |-- components  // 可重用组件</span><br><span class="line">|                   |-- ButtonComponent.kt</span><br><span class="line">|                   |-- TextFieldComponent.kt</span><br><span class="line">|               |-- screens  // 各个屏幕或功能的Compose界面</span><br><span class="line">|                   |-- HomeScreen.kt</span><br><span class="line">|                   |-- ProfileScreen.kt</span><br><span class="line">|               |-- navigation  // 导航相关</span><br><span class="line">|                   |-- Navigation.kt</span><br><span class="line">|               |-- viewmodel  // ViewModel层</span><br><span class="line">|                   |-- HomeViewModel.kt</span><br><span class="line">|                   |-- ProfileViewModel.kt</span><br><span class="line">|               |-- MainActivity.kt  // 主Activity</span><br><span class="line">|       |-- res</span><br><span class="line">|           |-- drawable</span><br><span class="line">|           |-- layout</span><br><span class="line">|           |-- mipmap</span><br><span class="line">|           |-- values</span><br><span class="line">|               |-- colors.xml</span><br><span class="line">|               |-- strings.xml</span><br><span class="line">|               |-- themes.xml</span><br><span class="line">|-- build.gradle</span><br><span class="line">|-- proguard-rules.pro</span><br><span class="line">|-- settings.gradle</span><br><span class="line">|-- gradle.properties</span><br><span class="line">|-- local.properties</span><br></pre></td></tr></table></figure>

<p>解释一下各个目录：</p>
<ul>
<li><p><strong>di</strong>: 依赖注入相关的代码，例如使用Dagger Hilt进行依赖注入的相关类。</p>
</li>
<li><p><strong>model</strong>: 数据模型类，用于表示应用程序中使用的数据结构。</p>
</li>
<li><p><strong>ui&#x2F;theme</strong>: 包含应用程序的主题定义，例如颜色、字体等。</p>
</li>
<li><p><strong>ui&#x2F;components</strong>: 包含可重用的Compose组件，例如自定义的按钮、文本字段等。</p>
</li>
<li><p><strong>ui&#x2F;screens</strong>: 包含应用程序的不同屏幕或功能的Compose界面。每个屏幕或功能应该有自己的文件。</p>
</li>
<li><p><strong>ui&#x2F;navigation</strong>: 导航相关的代码，例如定义应用程序的导航图。</p>
</li>
<li><p><strong>ui&#x2F;viewmodel</strong>: 包含ViewModel层的类，负责处理业务逻辑并提供数据给UI。</p>
</li>
<li><p><strong>MainActivity.kt</strong>: 应用程序的主Activity，负责设置Compose的根界面。</p>
</li>
<li><p><strong>res</strong>: 包含资源文件，例如布局文件、颜色、字符串等。</p>
</li>
<li><p><strong>build.gradle</strong>: 项目的构建配置文件。</p>
</li>
<li><p><strong>proguard-rules.pro</strong>: ProGuard规则文件，用于混淆和优化代码。</p>
</li>
<li><p><strong>settings.gradle</strong>: 包含项目的设置，例如模块的配置。</p>
</li>
<li><p><strong>gradle.properties</strong>: 包含项目的全局Gradle属性。</p>
</li>
<li><p><strong>local.properties</strong>: 包含本地开发环境的配置，例如SDK路径。</p>
</li>
</ul>
<p>这只是一个示例结构，具体的项目结构可以根据团队的偏好和项目的规模进行调整。使用这样的结构可以使项目更有组织性，易于理解和维护。</p>
<h2 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h2><p>使用 option + command + M 可以将选中的布局代码提取成一个函数</p>
<p>输出 prev 自动生成预览模版</p>
<h2 id="实现效果"><a href="#实现效果" class="headerlink" title="实现效果"></a>实现效果</h2><h3 id="网络请求"><a href="#网络请求" class="headerlink" title="网络请求"></a>网络请求</h3><p>1、封装一个网络请求单例工具类</p>
<p>基本不需要改什么东西，只需要根据后端地址改<code>SERVER_URL</code></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">object</span> RequestUtils &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">const</span> <span class="keyword">val</span> SERVER_URL = <span class="string">&quot;http://42.192.90.134:8181/&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">sendRequest</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        path: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        rawBody: <span class="type">String</span> = <span class="string">&quot;&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        method: <span class="type">RequestMethod</span></span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span> = withContext(Dispatchers.IO) &#123;</span><br><span class="line">        <span class="keyword">val</span> url = <span class="string">&quot;<span class="subst">$&#123;SERVER_URL&#125;</span><span class="subst">$&#123;path&#125;</span>&quot;</span></span><br><span class="line">        Log.i(<span class="string">&quot;PostUrl&quot;</span>, url)</span><br><span class="line">        Log.i(<span class="string">&quot;RequestBody&quot;</span>, rawBody)</span><br><span class="line">        <span class="comment">// 构造 OkHttpClient</span></span><br><span class="line">        <span class="keyword">val</span> client = OkHttpClient()</span><br><span class="line">        <span class="keyword">val</span> mediaType = <span class="string">&quot;application/json&quot;</span>.toMediaTypeOrNull()</span><br><span class="line">        <span class="keyword">val</span> requestBody = rawBody.toRequestBody(mediaType)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建POST请求</span></span><br><span class="line">        <span class="keyword">val</span> requestBuilder = Request.Builder()</span><br><span class="line">        requestBuilder.url(url)</span><br><span class="line">        <span class="keyword">if</span> (method == RequestMethod.POST) &#123;</span><br><span class="line">            requestBuilder.post(requestBody)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            requestBuilder.<span class="keyword">get</span>()</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">val</span> request = requestBuilder.build()</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 发送请求并获取响应</span></span><br><span class="line">        client.newCall(request).execute().use &#123;</span><br><span class="line">            <span class="keyword">if</span> (it.isSuccessful) &#123;</span><br><span class="line">                <span class="keyword">val</span> responseBody = it.body?.string().toString()</span><br><span class="line">                Log.i(<span class="string">&quot;ResponseBody&quot;</span>, responseBody)</span><br><span class="line">                <span class="keyword">if</span> (<span class="string">&quot;\&quot;code\&quot;: 0,&quot;</span> <span class="keyword">in</span> responseBody) <span class="keyword">throw</span> IOException(responseBody)</span><br><span class="line">                <span class="keyword">return</span><span class="symbol">@withContext</span> responseBody</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">val</span> errorMessage = it.body?.string().toString()</span><br><span class="line">                Log.e(<span class="string">&quot;RequestFailed&quot;</span>, errorMessage)</span><br><span class="line">                <span class="keyword">throw</span> IOException(errorMessage)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">sendPost</span><span class="params">(path: <span class="type">String</span>, rawBody: <span class="type">String</span> = <span class="string">&quot;&quot;</span>)</span></span> = withContext(Dispatchers.IO) &#123;</span><br><span class="line">        <span class="keyword">return</span><span class="symbol">@withContext</span> sendRequest(path, rawBody, RequestMethod.POST)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">sendGet</span><span class="params">(path: <span class="type">String</span>)</span></span> = withContext(Dispatchers.IO) &#123;</span><br><span class="line">        sendRequest(path, method = RequestMethod.GET)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="keyword">class</span> <span class="title class_">RequestMethod</span> &#123;</span><br><span class="line">    POST, GET</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2、编写 Model 类，作为返回值</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Response类</span></span><br><span class="line"><span class="keyword">data</span> <span class="keyword">class</span> <span class="title class_">Response</span>&lt;<span class="type">T</span>&gt;(</span><br><span class="line">    <span class="keyword">val</span> code: String?,</span><br><span class="line">    <span class="keyword">val</span> message: String?,</span><br><span class="line">    <span class="keyword">val</span> <span class="keyword">data</span>: T</span><br><span class="line">)</span><br><span class="line"><span class="comment">// TargetModel类</span></span><br><span class="line"><span class="keyword">data</span> <span class="keyword">class</span> <span class="title class_">TargetModel</span>(</span><br><span class="line">    <span class="keyword">var</span> id: <span class="built_in">Int</span>?,</span><br><span class="line">    <span class="keyword">var</span> userId: <span class="built_in">Int</span>?,</span><br><span class="line">    <span class="keyword">var</span> userEmail: String?,</span><br><span class="line">    <span class="keyword">var</span> targetName: String?,</span><br><span class="line">    <span class="keyword">var</span> targetDescribe: String?,</span><br><span class="line">    <span class="keyword">var</span> targetColor: <span class="built_in">Int</span>?,</span><br><span class="line">    <span class="keyword">var</span> targetPoint: String?,</span><br><span class="line">    <span class="keyword">var</span> deadline: String?,</span><br><span class="line">    <span class="keyword">var</span> status: String?,</span><br><span class="line">    <span class="keyword">var</span> deadlineString: String?,</span><br><span class="line">    <span class="keyword">var</span> ifPoints: <span class="built_in">Int</span>?,</span><br><span class="line">    <span class="keyword">var</span> ifTargetNull: String?,</span><br><span class="line">    <span class="keyword">var</span> ifTargetUpdate: <span class="built_in">Int</span>?,</span><br><span class="line">    <span class="keyword">var</span> targetId: String?</span><br><span class="line">)</span><br></pre></td></tr></table></figure>



<p>3、再进一步封装一个专门为 target 提供请求方法的工具单例类</p>
<p>注意这里需要改的东西很多，包括</p>
<p>请求的参数(userEmail、ifTargetUpdate)</p>
<p>网络请求的返回值(success:(model: 返回值的格式)-&gt; Unit)</p>
<p>网络请求具体地址(“target&#x2F;get”)</p>
<p>请求参数封装类(GetTargetList)</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 单例对象 `Target`，包含一个用于获取目标数据的函数。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">object</span> Target &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 用于获取目标数据的函数。</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> userEmail 请求目标数据的用户电子邮件地址。</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> ifTargetUpdate 标志，指示是否更新目标数据。</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> scope 用于启动协程的 [CoroutineScope]。</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> success 在成功检索到目标数据时调用的回调函数。</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> failed 在过程中发生异常时调用的回调函数。</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> complete 在成功或失败后调用的回调函数，用于执行任何清理或附加操作。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">fetchTargetData</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        userEmail: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        ifTargetUpdate: <span class="type">Int</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        scope: <span class="type">CoroutineScope</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        success: (<span class="type">model</span>: <span class="type">List</span>&lt;<span class="type">TargetModel</span>&gt;) -&gt; <span class="type">Unit</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        failed: (<span class="type">e</span>: <span class="type">Exception</span>) -&gt; <span class="type">Unit</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        complete: () -&gt; <span class="type">Unit</span> = &#123;&#125;</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span> = scope.launch(Dispatchers.Main) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 使用指定的用户电子邮件地址和更新标志创建 GetTargetList 对象</span></span><br><span class="line">            <span class="keyword">val</span> postRequest = GetTargetList(userEmail, ifTargetUpdate)</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 使用 Gson 将 GetTargetList 对象转换为 JSON</span></span><br><span class="line">            <span class="keyword">val</span> requestJson = Gson().toJson(postRequest)</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 发送带有目标数据请求的 POST 请求到服务器</span></span><br><span class="line">            <span class="keyword">val</span> response = RequestUtils.sendPost(<span class="string">&quot;target/get&quot;</span>, requestJson)</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 使用 Gson 解析 JSON 响应并提取目标数据</span></span><br><span class="line">            <span class="keyword">val</span> gson = Gson()</span><br><span class="line">            <span class="keyword">val</span> type = <span class="keyword">object</span> : TypeToken&lt;Response&lt;List&lt;TargetModel&gt;&gt;&gt;() &#123;&#125;.type</span><br><span class="line">            <span class="keyword">val</span> targetModel = gson.fromJson&lt;Response&lt;List&lt;TargetModel&gt;&gt;&gt;(response, type).<span class="keyword">data</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 使用检索到的目标数据调用成功回调</span></span><br><span class="line">            success(targetModel)</span><br><span class="line">        &#125; <span class="keyword">catch</span> (e: Exception) &#123;</span><br><span class="line">            <span class="comment">// 在发生异常时调用失败回调</span></span><br><span class="line">            failed(e)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 调用完成回调执行任何清理或附加操作</span></span><br><span class="line">        complete()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//请求参数封装类(GetTargetList)</span></span><br><span class="line"><span class="keyword">data</span> <span class="keyword">class</span> <span class="title class_">GetTargetList</span>(</span><br><span class="line">    <span class="keyword">val</span> userEmail: String,</span><br><span class="line">    <span class="keyword">val</span> ifTargetUpdate: <span class="built_in">Int</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>



<p>4、将封装好的 target 方法在 ViewModel进行定义,方便后续使用</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TimerViewModel</span>:<span class="type">ViewModel</span>() &#123;</span><br><span class="line">    <span class="keyword">var</span> ifShowTarget:<span class="built_in">Boolean</span> <span class="keyword">by</span> mutableStateOf(<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">getTargetMenuList</span><span class="params">()</span></span> &#123;</span><br><span class="line">        Target.fetchTargetData(</span><br><span class="line">            userEmail = <span class="string">&quot;3489044730@qq.com&quot;</span>,</span><br><span class="line">            ifTargetUpdate = <span class="number">1</span>,</span><br><span class="line">            scope = viewModelScope,</span><br><span class="line">            success = &#123;</span><br><span class="line">                Log.i(<span class="string">&quot;getTargetMenuList请求成功&quot;</span>, it.toString())</span><br><span class="line">            &#125;,</span><br><span class="line">            failed = &#123;</span><br><span class="line">                Log.e(<span class="string">&quot;getTargetMenuList请求失败&quot;</span>, it.message.toString())</span><br><span class="line">            &#125;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>5、在 Screen 中使用</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Image(</span><br><span class="line">    painter = painterResource(id = R.drawable.arrowdown),</span><br><span class="line">    contentDescription = <span class="literal">null</span>,</span><br><span class="line">    modifier = Modifier</span><br><span class="line">        .clickable &#123;</span><br><span class="line">            viewModel.ifShowTarget = !viewModel.ifShowTarget</span><br><span class="line">            viewModel.getTargetMenuList()</span><br><span class="line">        &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>



<h3 id="变量传递"><a href="#变量传递" class="headerlink" title="变量传递"></a>变量传递</h3><p>这块挺基础的，就是主要是注意 ViewModel 类不能用单例对象，应该直接使用类</p>
<p>以及如何正确使用<code>mutableStateOf</code></p>
<p>在Compose中，通常不建议将<code>ViewModel</code>设计为单例对象，因为<code>ViewModel</code>的设计目的是为了存储与界面相关的数据，并且可以在配置更改（如屏幕旋转）等情况下保留这些数据。如果将<code>ViewModel</code>设计为单例对象，它将在整个应用的生命周期中存在，并且在配置更改后不会被销毁和重新创建。</p>
<p>1、ViewModel 类</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TimerViewModel</span>:<span class="type">ViewModel</span>() &#123;</span><br><span class="line">    <span class="keyword">var</span> ifShowTarget:<span class="built_in">Boolean</span> <span class="keyword">by</span> mutableStateOf(<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">getTargetMenuList</span><span class="params">()</span></span> &#123;</span><br><span class="line">        Target.fetchTargetData(</span><br><span class="line">            userEmail = <span class="string">&quot;3489044730@qq.com&quot;</span>,</span><br><span class="line">            ifTargetUpdate = <span class="number">1</span>,</span><br><span class="line">            scope = viewModelScope,</span><br><span class="line">            success = &#123;</span><br><span class="line">                Log.i(<span class="string">&quot;getTargetMenuList请求成功&quot;</span>, it.toString())</span><br><span class="line">            &#125;,</span><br><span class="line">            failed = &#123;</span><br><span class="line">                Log.e(<span class="string">&quot;getTargetMenuList请求失败&quot;</span>, it.message.toString())</span><br><span class="line">            &#125;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2、Screen 使用</p>
<p>注意 TimerScreen 的参数 viewModel，这个基本上任何一个 Screen 都会用到</p>
<p>Preview 中参数 viewModel 使用 TimerViewModel()</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">TimerScreen</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">    viewModel: <span class="type">TimerViewModel</span></span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span> &#123;</span><br><span class="line">    Column(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .fillMaxSize()</span><br><span class="line">            .padding(<span class="number">15.</span>dp)</span><br><span class="line">    ) &#123;</span><br><span class="line">        topNav()</span><br><span class="line">        targetMenu(viewModel)</span><br><span class="line">        Box &#123;</span><br><span class="line">            Card(</span><br><span class="line"></span><br><span class="line">            ) &#123;</span><br><span class="line">                <span class="comment">// 省略部分代码...</span></span><br><span class="line">            &#125;</span><br><span class="line">          </span><br><span class="line">            targetMenuList(viewModel)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">targetMenu</span><span class="params">(viewModel: <span class="type">TimerViewModel</span>)</span></span> &#123;</span><br><span class="line">    Card(</span><br><span class="line">        <span class="comment">// 省略部分代码...</span></span><br><span class="line">    ) &#123;</span><br><span class="line">        Row(</span><br><span class="line">            <span class="comment">// 省略部分代码...</span></span><br><span class="line">        ) &#123;</span><br><span class="line">            Text(</span><br><span class="line">                <span class="comment">// 省略部分代码...</span></span><br><span class="line">            )</span><br><span class="line">            <span class="keyword">if</span> (viewModel.ifShowTarget) &#123;</span><br><span class="line">                Image(</span><br><span class="line">                    <span class="comment">// 省略部分代码...</span></span><br><span class="line">                )</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                Image(</span><br><span class="line">                    <span class="comment">// 省略部分代码...</span></span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Preview(showBackground = true)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">GreetingPreview2</span><span class="params">()</span></span> &#123;</span><br><span class="line">    TimerScreen(TimerViewModel())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>3、组件里面使用</p>
<p>注意 visibility 的创建，实际上visibility</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">targetMenuList</span><span class="params">(viewModel: <span class="type">TimerViewModel</span>)</span></span> &#123;</span><br><span class="line">  	<span class="comment">// 注意下面的使用方法</span></span><br><span class="line">    <span class="keyword">val</span> visibility <span class="keyword">by</span> rememberUpdatedState(newValue = viewModel.ifShowTarget)</span><br><span class="line"></span><br><span class="line">    AnimatedVisibility(</span><br><span class="line">        visible = visibility,</span><br><span class="line">        enter = fadeIn(),</span><br><span class="line">        exit = fadeOut()</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// 省略部分代码...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="LazyColumn-具体实现"><a href="#LazyColumn-具体实现" class="headerlink" title="LazyColumn 具体实现"></a>LazyColumn 具体实现</h3><p>1、首先创建 ViewModel 的相关方法</p>
<p>注意这里的 targetMenuList 属性的创建方法</p>
<p>以及如何赋值给 targetMenuList</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TimerViewModel</span>:<span class="type">ViewModel</span>() &#123;</span><br><span class="line">		<span class="comment">// 注意创建方法，这里使用 listOf() 创建了一个空的数组作为初始值</span></span><br><span class="line">    <span class="keyword">var</span> targetMenuList <span class="keyword">by</span> mutableStateOf&lt;List&lt;TargetModel&gt;&gt;(listOf())</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">getTargetMenuList</span><span class="params">()</span></span> &#123;</span><br><span class="line">        Target.fetchTargetData(</span><br><span class="line">            userEmail = <span class="string">&quot;3489044730@qq.com&quot;</span>,</span><br><span class="line">            ifTargetUpdate = <span class="number">1</span>,</span><br><span class="line">            scope = viewModelScope,</span><br><span class="line">            success = &#123;</span><br><span class="line">                targetMenuList=it</span><br><span class="line">                Log.i(<span class="string">&quot;getTargetMenuList请求成功&quot;</span>, it.toString())</span><br><span class="line">            &#125;,</span><br><span class="line">            failed = &#123;</span><br><span class="line">                Log.e(<span class="string">&quot;getTargetMenuList请求失败&quot;</span>, it.message.toString())</span><br><span class="line">            &#125;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>2、其次通过网络请求获取到相关数据，再将数据传入组件 targetMenuList 中</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">AnimatedVisibility(</span><br><span class="line">    visible = visibility,</span><br><span class="line">    enter = fadeIn(),</span><br><span class="line">    exit = fadeOut()</span><br><span class="line">) &#123;</span><br><span class="line">  	<span class="comment">// 调用 TimerViewModel 中的 getTargetMenuList 方法</span></span><br><span class="line">  	viewModel.getTargetMenuList()</span><br><span class="line">  	<span class="comment">// 然后传入组件中供 LazyColumn 使用</span></span><br><span class="line">    targetMenuList(viewModel.targetMenuList)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>3、最后编写组件 targetMenuList 的相应布局</p>
<p>使用箭头函数的方式，获取到 targetMenuList 中的每个元素，再使用字符串的插值语法<code>$&#123;&#125;</code>写入获取到的元素的相关属性值</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">targetMenuList</span><span class="params">(targetMenuList: <span class="type">List</span>&lt;<span class="type">TargetModel</span>&gt;)</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    Card(</span><br><span class="line">        <span class="comment">// 省略代码</span></span><br><span class="line">    ) &#123;</span><br><span class="line">        LazyColumn &#123;</span><br><span class="line">            items(targetMenuList) &#123; target -&gt;</span><br><span class="line">                Row(</span><br><span class="line">                    <span class="comment">// 省略代码</span></span><br><span class="line">                ) &#123;</span><br><span class="line">                    Text(</span><br><span class="line">                        text = <span class="string">&quot;<span class="subst">$&#123;target.targetName&#125;</span>&quot;</span>,</span><br><span class="line">                        fontSize = <span class="number">18.</span>sp,</span><br><span class="line">                        color = colorResource(id = R.color.hui)</span><br><span class="line">                    )</span><br><span class="line">                    Row(</span><br><span class="line">                        horizontalArrangement = Arrangement.SpaceBetween,</span><br><span class="line">                        verticalAlignment = Alignment.CenterVertically,</span><br><span class="line">                    ) &#123;</span><br><span class="line">                        Image(</span><br><span class="line">                            painter = painterResource(id = R.drawable.coin),</span><br><span class="line">                            contentDescription = <span class="literal">null</span>,</span><br><span class="line">                            modifier = Modifier</span><br><span class="line">                        )</span><br><span class="line">                        Text(</span><br><span class="line">                            text = <span class="string">&quot;X<span class="subst">$&#123;target.targetPoint&#125;</span>&quot;</span>,</span><br><span class="line">                            fontSize = <span class="number">18.</span>sp,</span><br><span class="line">                            color = colorResource(id = R.color.hui),</span><br><span class="line">                            fontWeight = FontWeight.Bold</span><br><span class="line">                        )</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="侧边栏"><a href="#侧边栏" class="headerlink" title="侧边栏"></a>侧边栏</h3><h2 id="Bug"><a href="#Bug" class="headerlink" title="Bug"></a>Bug</h2><ol>
<li><p>在 card 中使用阴影报错<code>Type mismatch: inferred type is Dp but CardElevation was expected</code></p>
<p>解决如下</p>
<p>不能直接使用 5.dp 的方式，需要加上外面这层包装</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">elevation = CardDefaults.cardElevation(defaultElevation = <span class="number">5.</span>dp) </span><br></pre></td></tr></table></figure>
</li>
<li><p>在 Card 中使用阴影踩坑了，不能使用 elevation 来指定阴影</p>
<p>原因在于：设置之后没有任何的阴影出现，以及 elevation 的功能少，只能用黑色阴影，相反 .shadow 能够设置的内容就更多</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Card(</span><br><span class="line">    <span class="comment">// elevation = CardDefaults.cardElevation(defaultElevation = 5.dp), //注意 elevation 的写法，现在好了不用注意了，直接送走这位属性</span></span><br><span class="line">    modifier = Modifier</span><br><span class="line">        .padding(top = <span class="number">20.</span>dp)</span><br><span class="line">        .padding(horizontal = <span class="number">10.</span>dp)</span><br><span class="line">  </span><br><span class="line">  			.shadow(<span class="number">25.</span>dp,RoundedCornerShape(<span class="number">20.</span>dp))</span><br><span class="line">  </span><br><span class="line">  			<span class="comment">//.clip(shape = MaterialTheme.shapes.large)</span></span><br><span class="line">        .clip(shape = RoundedCornerShape(<span class="number">20.</span>dp))</span><br><span class="line">        .fillMaxWidth()</span><br><span class="line">) &#123;</span><br><span class="line">    Row(</span><br><span class="line">        horizontalArrangement = Arrangement.SpaceBetween,</span><br><span class="line">        verticalAlignment = Alignment.CenterVertically,</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .background(color = colorResource(id = R.color.danHui))</span><br><span class="line">            .padding(<span class="number">10.</span>dp)</span><br><span class="line">            .fillMaxWidth()</span><br><span class="line">    ) &#123;</span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用动画效果时，发现内部的阴影展示有问题</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">targetMenuList</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> visibility <span class="keyword">by</span> rememberUpdatedState(newValue = TimerViewModel.ifShowTarget)</span><br><span class="line"></span><br><span class="line">    AnimatedVisibility(</span><br><span class="line">        visible = visibility,</span><br><span class="line">        enter = fadeIn(),</span><br><span class="line">        exit = fadeOut()</span><br><span class="line">    ) &#123;</span><br><span class="line">        Card(</span><br><span class="line">            modifier = Modifier</span><br><span class="line">          			<span class="comment">//.padding(top = 20.dp)</span></span><br><span class="line">          			.padding(vertical = <span class="number">30.</span>dp)</span><br><span class="line">          </span><br><span class="line">                .padding(horizontal = <span class="number">10.</span>dp)</span><br><span class="line">          </span><br><span class="line">                .shadow(<span class="number">25.</span>dp, RoundedCornerShape(<span class="number">20.</span>dp))</span><br><span class="line">                .clip(shape = RoundedCornerShape(<span class="number">20.</span>dp))</span><br><span class="line">                .fillMaxWidth(),</span><br><span class="line">        ) &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可恶还没有解决！！！！！🥲</p>
<p>解决了，发现是 padding 的下面不相同，导致阴影被截断</p>
</li>
<li><p>网络请求这块遇到<code>CLEARTEXT communication to ************* not permitted by network security policy</code>报错</p>
<p>解决方法：</p>
<p>在<code>AndroidManifest.xml</code>中加入<code>android:usesCleartextTraffic=&quot;true&quot;</code>以及<code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;</code></p>
<p>分别是允许 http 访问（在安卓9 往上只允许 https 访问）以及获取用户网络请求的权限</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.INTERNET&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">application</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:usesCleartextTraffic</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:targetApi</span>=<span class="string">&quot;31&quot;</span> &gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">application</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在网络请求获取<code>targetMenuList</code>时，想要打印其数据，但是打印出来的 targetMenuList 为空：</p>
<p>原因是在打印 targetMenuList 时，它的数据还没有被获取到，这一点从打印日志中可以推断出来</p>
<p>解决方法：</p>
<p>通过<code>LaunchedEffect</code>再去打印</p>
<pre><code class="kotlin">LaunchedEffect(viewModel.targetMenuList) &#123;
    // 当 targetMenuList 变化时，此块将被执行
    Log.i(&quot;targetMenuList&quot;, &quot;targetMenuList:$&#123;viewModel.targetMenuList&#125;&quot;)
&#125;

AnimatedVisibility(
    visible = visibility,
    enter = fadeIn(),
    exit = fadeOut()
) &#123;
    targetMenuList(viewModel.targetMenuList)
&#125;
</code></pre>
</li>
<li></li>
<li></li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://tecnb.github.io">TEC</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://tecnb.github.io/posts/d84ff597.html">https://tecnb.github.io/posts/d84ff597.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://tecnb.github.io" target="_blank">TEC</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/TECNB/picgodemo@main/img/compose-cover.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/deefafae.html"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/TECNB/picgodemo@main/img/Linux%20%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86-cover.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Linux基本知识</div></div></a></div><div class="next-post pull-right"><a href="/posts/9bcebb3c.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/TECNB/picgodemo@main/img/kotlin-cover.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Kotlin 学习</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="lv-container" data-id="city" data-uid="MTAyMC81NzY3OC8zNDE0MQ=="></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Compose-%E5%AD%A6%E4%B9%A0"><span class="toc-number">1.</span> <span class="toc-text">Compose 学习</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%83%E5%B1%80%E7%BB%84%E4%BB%B6"><span class="toc-number">1.1.</span> <span class="toc-text">布局组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Column"><span class="toc-number">1.1.1.</span> <span class="toc-text">Column</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Row"><span class="toc-number">1.1.2.</span> <span class="toc-text">Row</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Box"><span class="toc-number">1.1.3.</span> <span class="toc-text">Box</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ConstraintLayout"><span class="toc-number">1.1.4.</span> <span class="toc-text">ConstraintLayout</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Surface"><span class="toc-number">1.1.5.</span> <span class="toc-text">Surface</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spacer"><span class="toc-number">1.1.6.</span> <span class="toc-text">Spacer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LazyColumn"><span class="toc-number">1.1.7.</span> <span class="toc-text">LazyColumn</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ScrollableColumn"><span class="toc-number">1.1.8.</span> <span class="toc-text">ScrollableColumn</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ScrollableRow"><span class="toc-number">1.1.9.</span> <span class="toc-text">ScrollableRow</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Scaffold"><span class="toc-number">1.1.10.</span> <span class="toc-text">Scaffold</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ModalNavigationDrawer"><span class="toc-number">1.1.11.</span> <span class="toc-text">ModalNavigationDrawer</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%BB%84%E4%BB%B6"><span class="toc-number">1.2.</span> <span class="toc-text">基础组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Icon"><span class="toc-number">1.2.1.</span> <span class="toc-text">Icon</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Image"><span class="toc-number">1.2.2.</span> <span class="toc-text">Image</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Card"><span class="toc-number">1.2.3.</span> <span class="toc-text">Card</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Text"><span class="toc-number">1.2.4.</span> <span class="toc-text">Text</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FloatingActionButton"><span class="toc-number">1.2.5.</span> <span class="toc-text">FloatingActionButton</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Divider"><span class="toc-number">1.2.6.</span> <span class="toc-text">Divider</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CheckBox"><span class="toc-number">1.2.7.</span> <span class="toc-text">CheckBox</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AnimatedVisibility"><span class="toc-number">1.2.8.</span> <span class="toc-text">AnimatedVisibility</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CircularProgressIndicator"><span class="toc-number">1.2.9.</span> <span class="toc-text">CircularProgressIndicator</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E5%B1%9E%E6%80%A7"><span class="toc-number">1.3.</span> <span class="toc-text">基础属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Modifier"><span class="toc-number">1.3.1.</span> <span class="toc-text">Modifier</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LaunchedEffect"><span class="toc-number">1.3.2.</span> <span class="toc-text">LaunchedEffect</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%EF%BC%9A"><span class="toc-number">1.3.3.</span> <span class="toc-text">基本使用：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E8%A7%A3"><span class="toc-number">1.4.</span> <span class="toc-text">注解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Composable"><span class="toc-number">1.4.1.</span> <span class="toc-text">@Composable</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DrawableRes"><span class="toc-number">1.4.2.</span> <span class="toc-text">@DrawableRes</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Kotlin%E5%9F%BA%E7%A1%80"><span class="toc-number">1.5.</span> <span class="toc-text">Kotlin基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%B0%E5%BF%86%E5%8F%98%E9%87%8F"><span class="toc-number">1.5.1.</span> <span class="toc-text">记忆变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ViewModel"><span class="toc-number">1.5.2.</span> <span class="toc-text">ViewModel</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"><span class="toc-number">1.6.</span> <span class="toc-text">项目结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="toc-number">1.7.</span> <span class="toc-text">快捷键</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%95%88%E6%9E%9C"><span class="toc-number">1.8.</span> <span class="toc-text">实现效果</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82"><span class="toc-number">1.8.1.</span> <span class="toc-text">网络请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E4%BC%A0%E9%80%92"><span class="toc-number">1.8.2.</span> <span class="toc-text">变量传递</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LazyColumn-%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.8.3.</span> <span class="toc-text">LazyColumn 具体实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%A7%E8%BE%B9%E6%A0%8F"><span class="toc-number">1.8.4.</span> <span class="toc-text">侧边栏</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bug"><span class="toc-number">1.9.</span> <span class="toc-text">Bug</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By TEC</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadLivere () {
  if (typeof LivereTower === 'object') {
    window.LivereTower.init()
  }
  else {
    (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
    })(document, 'script');
  }
}

if ('Livere' === 'Livere' || !false) {
  if (false) btf.loadComment(document.getElementById('lv-container'), loadLivere)
  else loadLivere()
}
else {
  function loadOtherComment () {
    loadLivere()
  }
}</script></div><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><div class="aplayer no-destroy" data-id="7766753897" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="true"> </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>